var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(t,n,r){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function s(e,t,n=t){return e.set(n),t}function u(e,t){e.appendChild(t)}function c(e,t,n){e.insertBefore(t,n||null)}function p(e){e.parentNode.removeChild(e)}function l(e){return document.createElement(e)}function f(e){return document.createTextNode(e)}function h(){return f(" ")}function d(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function v(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function y(e,t){t=""+t,e.data!==t&&(e.data=t)}let b;function g(e){b=e}const m=[],w=[],_=[],E=[],O=Promise.resolve();let N=!1;function S(e){_.push(e)}let A=!1;const V=new Set;function x(){if(!A){A=!0;do{for(let e=0;e<m.length;e+=1){const t=m[e];g(t),D(t.$$)}for(m.length=0;w.length;)w.pop()();for(let e=0;e<_.length;e+=1){const t=_[e];V.has(t)||(V.add(t),t())}_.length=0}while(m.length);for(;E.length;)E.pop()();N=!1,A=!1,V.clear()}}function D(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(S)}}const P=new Set;function C(e,t){e&&e.i&&(P.delete(e),e.i(t))}function j(e,t,n,r){if(e&&e.o){if(P.has(e))return;P.add(e),(void 0).c.push(()=>{P.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}}function T(e){e&&e.c()}function I(e,n,i){const{fragment:a,on_mount:s,on_destroy:u,after_update:c}=e.$$;a&&a.m(n,i),S(()=>{const n=s.map(t).filter(o);u?u.push(...n):r(n),e.$$.on_mount=[]}),c.forEach(S)}function k(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function R(e,t){-1===e.$$.dirty[0]&&(m.push(e),N||(N=!0,O.then(x)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function $(t,o,i,a,s,u,c=[-1]){const l=b;g(t);const f=o.props||{},h=t.$$={fragment:null,ctx:null,props:u,update:e,not_equal:s,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:n(),dirty:c};let d=!1;if(h.ctx=i?i(t,f,(e,n,...r)=>{const o=r.length?r[0]:n;return h.ctx&&s(h.ctx[e],h.ctx[e]=o)&&(h.bound[e]&&h.bound[e](o),d&&R(t,e)),n}):[],h.update(),d=!0,r(h.before_update),h.fragment=!!a&&a(h.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);h.fragment&&h.fragment.l(e),e.forEach(p)}else h.fragment&&h.fragment.c();o.intro&&C(t.$$.fragment),I(t,o.target,o.anchor),x()}g(l)}class z{$destroy(){k(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}const L=[];function M(t,n=e){let r;const o=[];function a(e){if(i(t,e)&&(t=e,r)){const e=!L.length;for(let e=0;e<o.length;e+=1){const n=o[e];n[1](),L.push(n,t)}if(e){for(let e=0;e<L.length;e+=2)L[e][0](L[e+1]);L.length=0}}}return{set:a,update:function(e){a(e(t))},subscribe:function(i,s=e){const u=[i,s];return o.push(u),1===o.length&&(r=n(a)||e),i(t),()=>{const e=o.indexOf(u);-1!==e&&o.splice(e,1),0===o.length&&(r(),r=null)}}}}const U=M(0);function H(t){let n,r;return{c(){n=l("h1"),r=f(t[0])},m(e,t){c(e,n,t),u(n,r)},p(e,[t]){1&t&&y(r,e[0])},i:e,o:e,d(e){e&&p(n)}}}function B(e,t,n){let r;return a(e,U,e=>n(0,r=e)),[r]}class F extends z{constructor(e){super(),$(this,e,B,H,i,{})}}function G(t){let n,o,i,a,s,u,f,v,y;return{c(){n=l("button"),n.textContent="‚ûï",o=h(),i=l("button"),i.textContent="‚ûñ",a=h(),s=l("button"),s.textContent="Reset üîô",u=h(),f=l("button"),f.textContent="Wrong Type üôà"},m(e,r){c(e,n,r),c(e,o,r),c(e,i,r),c(e,a,r),c(e,s,r),c(e,u,r),c(e,f,r),v||(y=[d(n,"click",t[1]),d(i,"click",t[2]),d(s,"click",t[3]),d(f,"click",t[4])],v=!0)},p:e,i:e,o:e,d(e){e&&p(n),e&&p(o),e&&p(i),e&&p(a),e&&p(s),e&&p(u),e&&p(f),v=!1,r(y)}}}function q(e,t,n){let r;a(e,U,e=>n(0,r=e));return[r,()=>s(U,r++,r),()=>s(U,r--,r),()=>s(U,r=0),()=>s(U,r="‚ÄºÔ∏è")]}class W extends z{constructor(e){super(),$(this,e,q,G,i,{})}}function K(t){let n,r,o,i,a;return r=new W({}),i=new F({}),{c(){n=l("div"),T(r.$$.fragment),o=h(),T(i.$$.fragment),v(n,"class","svelte-on4gyz")},m(e,t){c(e,n,t),I(r,n,null),u(n,o),I(i,n,null),a=!0},p:e,i(e){a||(C(r.$$.fragment,e),C(i.$$.fragment,e),a=!0)},o(e){j(r.$$.fragment,e),j(i.$$.fragment,e),a=!1},d(e){e&&p(n),k(r),k(i)}}}class J extends z{constructor(e){super(),$(this,e,null,K,i,{})}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var Y=function(e,t){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var X=function(){return(X=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function Z(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function Q(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function ee(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Q(arguments[t]));return e}var te=[];Object.freeze(te);var ne={};function re(){return++St.mobxGuid}function oe(e){throw ie(!1,e),"X"}function ie(e,t){if(!e)throw new Error("[mobx] "+(t||"An invariant failed, however the error is obfuscated because this is a production build."))}function ae(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}Object.freeze(ne);var se=function(){};function ue(e){return null!==e&&"object"==typeof e}function ce(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function pe(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function le(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return!n||!1!==n.configurable&&!1!==n.writable}function fe(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return ue(e)&&!0===e[n]}}function he(e){return e instanceof Map}function de(e){return e instanceof Set}function ve(e){var t=new Set;for(var n in e)t.add(n);return Object.getOwnPropertySymbols(e).forEach((function(n){Object.getOwnPropertyDescriptor(e,n).enumerable&&t.add(n)})),Array.from(t)}function ye(e){return e&&e.toString?e.toString():new String(e).toString()}function be(e){return null===e?null:"object"==typeof e?""+e:e}var ge=Symbol("mobx administration"),me=function(){function e(e){void 0===e&&(e="Atom@"+re()),this.name=e,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Ge.NOT_TRACKING}return e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.reportObserved=function(){return Ct(this)},e.prototype.reportChanged=function(){Dt(),function(e){if(e.lowestObserverState===Ge.STALE)return;e.lowestObserverState=Ge.STALE,e.observers.forEach((function(t){t.dependenciesState===Ge.UP_TO_DATE&&(t.isTracing!==qe.NONE&&jt(t,e),t.onBecomeStale()),t.dependenciesState=Ge.STALE}))}(this),Pt()},e.prototype.toString=function(){return this.name},e}(),we=fe("Atom",me);function _e(e,t,n){void 0===t&&(t=se),void 0===n&&(n=se);var r,o=new me(e);return t!==se&&Yt("onBecomeObserved",o,t,r),n!==se&&Jt(o,n),o}var Ee={identity:function(e,t){return e===t},structural:function(e,t){return Jn(e,t)},default:function(e,t){return Object.is(e,t)},shallow:function(e,t){return Jn(e,t,1)}},Oe=Symbol("mobx did run lazy initializers"),Ne=Symbol("mobx pending decorators"),Se={},Ae={};function Ve(e,t){var n=t?Se:Ae;return n[e]||(n[e]={configurable:!0,enumerable:t,get:function(){return xe(this),this[e]},set:function(t){xe(this),this[e]=t}})}function xe(e){var t,n;if(!0!==e[Oe]){var r=e[Ne];if(r){pe(e,Oe,!0);var o=ee(Object.getOwnPropertySymbols(r),Object.keys(r));try{for(var i=Z(o),a=i.next();!a.done;a=i.next()){var s=r[a.value];s.propertyCreator(e,s.prop,s.descriptor,s.decoratorTarget,s.decoratorArguments)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}}}function De(e,t){return function(){var n,r=function(r,o,i,a){if(!0===a)return t(r,o,i,r,n),null;if("production"===process.env.NODE_ENV||Pe(arguments)||oe("This function is a decorator, but it wasn't invoked like a decorator"),!Object.prototype.hasOwnProperty.call(r,Ne)){var s=r[Ne];pe(r,Ne,X({},s))}return r[Ne][o]={prop:o,propertyCreator:t,descriptor:i,decoratorTarget:r,decoratorArguments:n},Ve(o,e)};return Pe(arguments)?(n=te,r.apply(null,arguments)):(n=Array.prototype.slice.call(arguments),r)}}function Pe(e){return(2===e.length||3===e.length)&&("string"==typeof e[1]||"symbol"==typeof e[1])||4===e.length&&!0===e[3]}function Ce(e,t,n){return sn(e)?e:Array.isArray(e)?Be.array(e,{name:n}):ce(e)?Be.object(e,void 0,{name:n}):he(e)?Be.map(e,{name:n}):de(e)?Be.set(e,{name:n}):e}function je(e){return e}function Te(e){ie(e);var t=De(!0,(function(t,n,r,o,i){"production"!==process.env.NODE_ENV&&ie(!r||!r.get,'@observable cannot be used on getter (property "'+ye(n)+'"), use @computed instead.');var a=r?r.initializer?r.initializer.call(t):r.value:void 0;Ln(t).addObservableProp(n,a,e)})),n="undefined"!=typeof process&&process.env&&"production"!==process.env.NODE_ENV?function(){return arguments.length<2?oe("Incorrect decorator invocation. @observable decorator doesn't expect any arguments"):t.apply(null,arguments)}:t;return n.enhancer=e,n}var Ie={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ke(e){/^(deep|name|equals|defaultDecorator|proxy)$/.test(e)||oe("invalid option for (extend)observable: "+e)}function Re(e){if(null==e)return Ie;if("string"==typeof e)return{name:e,deep:!0,proxy:!0};if("production"!==process.env.NODE_ENV){if("object"!=typeof e)return oe("expected options object");Object.keys(e).forEach(ke)}return e}Object.freeze(Ie);var $e=Te(Ce),ze=Te((function(e,t,n){return null==e||Fn(e)||Pn(e)||In(e)||$n(e)?e:Array.isArray(e)?Be.array(e,{name:n,deep:!1}):ce(e)?Be.object(e,void 0,{name:n,deep:!1}):he(e)?Be.map(e,{name:n,deep:!1}):de(e)?Be.set(e,{name:n,deep:!1}):oe("production"!==process.env.NODE_ENV&&"The shallow modifier / decorator can only used in combination with arrays, objects, maps and sets")})),Le=Te(je),Me=Te((function(e,t,n){if("production"!==process.env.NODE_ENV&&sn(e))throw"observable.struct should not be used with observable values";return Jn(e,t)?t:e}));function Ue(e){return e.defaultDecorator?e.defaultDecorator.enhancer:!1===e.deep?je:Ce}var He={box:function(e,t){arguments.length>2&&Fe("box");var n=Re(t);return new bt(e,Ue(n),n.name,!0,n.equals)},array:function(e,t){arguments.length>2&&Fe("array");var n=Re(t);return Sn(e,Ue(n),n.name)},map:function(e,t){arguments.length>2&&Fe("map");var n=Re(t);return new Tn(e,Ue(n),n.name)},set:function(e,t){arguments.length>2&&Fe("set");var n=Re(t);return new Rn(e,Ue(n),n.name)},object:function(e,t,n){"string"==typeof arguments[1]&&Fe("object");var r=Re(n);if(!1===r.proxy)return Xt({},e,t,r);var o=Zt(r),i=Xt({},void 0,void 0,r),a=bn(i);return Qt(a,e,t,o),a},ref:Le,shallow:ze,deep:$e,struct:Me},Be=function(e,t,n){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return $e.apply(null,arguments);if(sn(e))return e;var r=ce(e)?Be.object(e,t,n):Array.isArray(e)?Be.array(e,t):he(e)?Be.map(e,t):de(e)?Be.set(e,t):e;if(r!==e)return r;oe("production"!==process.env.NODE_ENV&&"The provided value could not be converted into an observable. If you want just create an observable reference to the object use 'observable.box(value)'")};function Fe(e){oe("Expected one or two arguments to observable."+e+". Did you accidentally try to use observable."+e+" as decorator?")}Object.keys(He).forEach((function(e){return Be[e]=He[e]}));var Ge,qe,We=De(!1,(function(e,t,n,r,o){var i=n.get,a=n.set,s=o[0]||{};Ln(e).addComputedProp(e,t,X({get:i,set:a,context:e},s))})),Ke=We({equals:Ee.structural}),Je=function(e,t,n){if("string"==typeof t)return We.apply(null,arguments);if(null!==e&&"object"==typeof e&&1===arguments.length)return We.apply(null,arguments);"production"!==process.env.NODE_ENV&&(ie("function"==typeof e,"First argument to `computed` should be an expression."),ie(arguments.length<3,"Computed takes one or two arguments if used as function"));var r="object"==typeof t?t:{};return r.get=e,r.set="function"==typeof t?t:r.set,r.name=r.name||e.name||"",new mt(r)};Je.struct=Ke,function(e){e[e.NOT_TRACKING=-1]="NOT_TRACKING",e[e.UP_TO_DATE=0]="UP_TO_DATE",e[e.POSSIBLY_STALE=1]="POSSIBLY_STALE",e[e.STALE=2]="STALE"}(Ge||(Ge={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(qe||(qe={}));var Ye=function(e){this.cause=e};function Xe(e){return e instanceof Ye}function Ze(e){switch(e.dependenciesState){case Ge.UP_TO_DATE:return!1;case Ge.NOT_TRACKING:case Ge.STALE:return!0;case Ge.POSSIBLY_STALE:for(var t=it(!0),n=rt(),r=e.observing,o=r.length,i=0;i<o;i++){var a=r[i];if(wt(a)){if(St.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return ot(n),at(t),!0}if(e.dependenciesState===Ge.STALE)return ot(n),at(t),!0}}return st(e),ot(n),at(t),!1}}function Qe(e){var t=e.observers.size>0;St.computationDepth>0&&t&&oe("production"!==process.env.NODE_ENV&&"Computed values are not allowed to cause side effects by changing observables that are already being observed. Tried to modify: "+e.name),St.allowStateChanges||!t&&"strict"!==St.enforceActions||oe("production"!==process.env.NODE_ENV&&(St.enforceActions?"Since strict-mode is enabled, changing observed observable values outside actions is not allowed. Please wrap the code in an `action` if this change is intended. Tried to modify: ":"Side effects like changing state are not allowed at this point. Are you trying to modify state from, for example, the render function of a React component? Tried to modify: ")+e.name)}function et(e,t,n){var r=it(!0);st(e),e.newObserving=new Array(e.observing.length+100),e.unboundDepsCount=0,e.runId=++St.runId;var o,i=St.trackingDerivation;if(St.trackingDerivation=e,!0===St.disableErrorBoundaries)o=t.call(n);else try{o=t.call(n)}catch(e){o=new Ye(e)}return St.trackingDerivation=i,function(e){for(var t=e.observing,n=e.observing=e.newObserving,r=Ge.UP_TO_DATE,o=0,i=e.unboundDepsCount,a=0;a<i;a++){0===(s=n[a]).diffValue&&(s.diffValue=1,o!==a&&(n[o]=s),o++),s.dependenciesState>r&&(r=s.dependenciesState)}n.length=o,e.newObserving=null,i=t.length;for(;i--;){0===(s=t[i]).diffValue&&Vt(s,e),s.diffValue=0}for(;o--;){var s;1===(s=n[o]).diffValue&&(s.diffValue=0,At(s,e))}r!==Ge.UP_TO_DATE&&(e.dependenciesState=r,e.onBecomeStale())}(e),function(e){if("production"===process.env.NODE_ENV)return;if(0!==e.observing.length)return;(St.reactionRequiresObservable||e.requiresObservable)&&console.warn("[mobx] Derivation "+e.name+" is created/updated without reading any observable value")}(e),at(r),o}function tt(e){var t=e.observing;e.observing=[];for(var n=t.length;n--;)Vt(t[n],e);e.dependenciesState=Ge.NOT_TRACKING}function nt(e){var t=rt();try{return e()}finally{ot(t)}}function rt(){var e=St.trackingDerivation;return St.trackingDerivation=null,e}function ot(e){St.trackingDerivation=e}function it(e){var t=St.allowStateReads;return St.allowStateReads=e,t}function at(e){St.allowStateReads=e}function st(e){if(e.dependenciesState!==Ge.UP_TO_DATE){e.dependenciesState=Ge.UP_TO_DATE;for(var t=e.observing,n=t.length;n--;)t[n].lowestObserverState=Ge.UP_TO_DATE}}var ut=0,ct=1,pt=Object.getOwnPropertyDescriptor((function(){}),"name"),lt=pt&&pt.configurable;function ft(e,t,n){"production"!==process.env.NODE_ENV&&(ie("function"==typeof t,"`action` can only be invoked on functions"),"string"==typeof e&&e||oe("actions should have valid names, got: '"+e+"'"));var r=function(){return ht(e,t,n||this,arguments)};return r.isMobxAction=!0,"production"!==process.env.NODE_ENV&&lt&&Object.defineProperty(r,"name",{value:e}),r}function ht(e,t,n,r){var o=function(e,t,n){var r=$t()&&!!e,o=0;if(r&&"production"!==process.env.NODE_ENV){o=Date.now();var i=n&&n.length||0,a=new Array(i);if(i>0)for(var s=0;s<i;s++)a[s]=n[s];Lt({type:"action",name:e,object:t,arguments:a})}var u=rt();Dt();var c=dt(!0),p=it(!0),l={prevDerivation:u,prevAllowStateChanges:c,prevAllowStateReads:p,notifySpy:r,startTime:o,actionId:ct++,parentActionId:ut};return ut=l.actionId,l}(e,n,r);try{return t.apply(n,r)}catch(e){throw o.error=e,e}finally{!function(e){ut!==e.actionId&&oe("invalid action stack. did you forget to finish an action?");ut=e.parentActionId,void 0!==e.error&&(St.suppressReactionErrors=!0);vt(e.prevAllowStateChanges),at(e.prevAllowStateReads),Pt(),ot(e.prevDerivation),e.notifySpy&&"production"!==process.env.NODE_ENV&&Ut({time:Date.now()-e.startTime});St.suppressReactionErrors=!1}(o)}}function dt(e){var t=St.allowStateChanges;return St.allowStateChanges=e,t}function vt(e){St.allowStateChanges=e}function yt(e){var t,n=St.computationDepth;St.computationDepth=0;try{t=e()}finally{St.computationDepth=n}return t}var bt=function(e){function t(t,n,r,o,i){void 0===r&&(r="ObservableValue@"+re()),void 0===o&&(o=!0),void 0===i&&(i=Ee.default);var a=e.call(this,r)||this;return a.enhancer=n,a.name=r,a.equals=i,a.hasUnreportedChange=!1,a.value=n(t,void 0,r),o&&$t()&&"production"!==process.env.NODE_ENV&&zt({type:"create",name:a.name,newValue:""+a.value}),a}return function(e,t){function n(){this.constructor=e}Y(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},t.prototype.set=function(e){var t=this.value;if((e=this.prepareNewValue(e))!==St.UNCHANGED){var n=$t();n&&"production"!==process.env.NODE_ENV&&Lt({type:"update",name:this.name,newValue:e,oldValue:t}),this.setNewValue(e),n&&"production"!==process.env.NODE_ENV&&Ut()}},t.prototype.prepareNewValue=function(e){if(Qe(this),gn(this)){var t=wn(this,{object:this,type:"update",newValue:e});if(!t)return St.UNCHANGED;e=t.newValue}return e=this.enhancer(e,this.value,this.name),this.equals(this.value,e)?St.UNCHANGED:e},t.prototype.setNewValue=function(e){var t=this.value;this.value=e,this.reportChanged(),_n(this)&&On(this,{type:"update",object:this,newValue:e,oldValue:t})},t.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},t.prototype.intercept=function(e){return mn(this,e)},t.prototype.observe=function(e,t){return t&&e({object:this,type:"update",newValue:this.value,oldValue:void 0}),En(this,e)},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.value+"]"},t.prototype.valueOf=function(){return be(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(me),gt=fe("ObservableValue",bt),mt=function(){function e(e){this.dependenciesState=Ge.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Ge.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+re(),this.value=new Ye(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=qe.NONE,ie(e.get,"missing option for computed: get"),this.derivation=e.get,this.name=e.name||"ComputedValue@"+re(),e.set&&(this.setter=ft(this.name+"-setter",e.set)),this.equals=e.equals||(e.compareStructural||e.struct?Ee.structural:Ee.default),this.scope=e.context,this.requiresReaction=!!e.requiresReaction,this.keepAlive=!!e.keepAlive}return e.prototype.onBecomeStale=function(){!function(e){if(e.lowestObserverState!==Ge.UP_TO_DATE)return;e.lowestObserverState=Ge.POSSIBLY_STALE,e.observers.forEach((function(t){t.dependenciesState===Ge.UP_TO_DATE&&(t.dependenciesState=Ge.POSSIBLY_STALE,t.isTracing!==qe.NONE&&jt(t,e),t.onBecomeStale())}))}(this)},e.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(e){return e()}))},e.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(e){return e()}))},e.prototype.get=function(){this.isComputing&&oe("Cycle detected in computation "+this.name+": "+this.derivation),0!==St.inBatch||0!==this.observers.size||this.keepAlive?(Ct(this),Ze(this)&&this.trackAndCompute()&&function(e){if(e.lowestObserverState===Ge.STALE)return;e.lowestObserverState=Ge.STALE,e.observers.forEach((function(t){t.dependenciesState===Ge.POSSIBLY_STALE?t.dependenciesState=Ge.STALE:t.dependenciesState===Ge.UP_TO_DATE&&(e.lowestObserverState=Ge.UP_TO_DATE)}))}(this)):Ze(this)&&(this.warnAboutUntrackedRead(),Dt(),this.value=this.computeValue(!1),Pt());var e=this.value;if(Xe(e))throw e.cause;return e},e.prototype.peek=function(){var e=this.computeValue(!1);if(Xe(e))throw e.cause;return e},e.prototype.set=function(e){if(this.setter){ie(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,e)}finally{this.isRunningSetter=!1}}else ie(!1,"production"!==process.env.NODE_ENV&&"[ComputedValue '"+this.name+"'] It is not possible to assign a new value to a computed value.")},e.prototype.trackAndCompute=function(){$t()&&"production"!==process.env.NODE_ENV&&zt({object:this.scope,type:"compute",name:this.name});var e=this.value,t=this.dependenciesState===Ge.NOT_TRACKING,n=this.computeValue(!0),r=t||Xe(e)||Xe(n)||!this.equals(e,n);return r&&(this.value=n),r},e.prototype.computeValue=function(e){var t;if(this.isComputing=!0,St.computationDepth++,e)t=et(this,this.derivation,this.scope);else if(!0===St.disableErrorBoundaries)t=this.derivation.call(this.scope);else try{t=this.derivation.call(this.scope)}catch(e){t=new Ye(e)}return St.computationDepth--,this.isComputing=!1,t},e.prototype.suspend=function(){this.keepAlive||(tt(this),this.value=void 0)},e.prototype.observe=function(e,t){var n=this,r=!0,o=void 0;return function(e,t){void 0===t&&(t=ne);"production"!==process.env.NODE_ENV&&(ie("function"==typeof e,"Autorun expects a function as first argument"),ie(!1==("function"==typeof(n=e)&&!0===n.isMobxAction),"Autorun does not accept actions since actions are untrackable"));var n;var r,o=t&&t.name||e.name||"Autorun@"+re();if(t.scheduler||t.delay){var i=Kt(t),a=!1;r=new Tt(o,(function(){a||(a=!0,i((function(){a=!1,r.isDisposed||r.track(s)})))}),t.onError,t.requiresObservable)}else r=new Tt(o,(function(){this.track(s)}),t.onError,t.requiresObservable);function s(){e(r)}return r.schedule(),r.getDisposer()}((function(){var i=n.get();if(!r||t){var a=rt();e({type:"update",object:n,newValue:i,oldValue:o}),ot(a)}r=!1,o=i}))},e.prototype.warnAboutUntrackedRead=function(){"production"!==process.env.NODE_ENV&&(!0===this.requiresReaction&&oe("[mobx] Computed value "+this.name+" is read outside a reactive context"),this.isTracing!==qe.NONE&&console.log("[mobx.trace] '"+this.name+"' is being read outside a reactive context. Doing a full recompute"),St.computedRequiresReaction&&console.warn("[mobx] Computed value "+this.name+" is being read outside a reactive context. Doing a full recompute"))},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},e.prototype.valueOf=function(){return be(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(),wt=fe("ComputedValue",mt),_t=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Et={};function Ot(){return"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:Et}var Nt=!0,St=function(){var e=Ot();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Nt=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new _t).version&&(Nt=!1),Nt?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new _t):(setTimeout((function(){oe("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new _t)}();function At(e,t){e.observers.add(t),e.lowestObserverState>t.dependenciesState&&(e.lowestObserverState=t.dependenciesState)}function Vt(e,t){e.observers.delete(t),0===e.observers.size&&xt(e)}function xt(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,St.pendingUnobservations.push(e))}function Dt(){St.inBatch++}function Pt(){if(0==--St.inBatch){It();for(var e=St.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBecomeUnobserved()),n instanceof mt&&n.suspend())}St.pendingUnobservations=[]}}function Ct(e){!function(e){"production"!==process.env.NODE_ENV&&!St.allowStateReads&&St.observableRequiresReaction&&console.warn("[mobx] Observable "+e.name+" being read outside a reactive context")}(e);var t=St.trackingDerivation;return null!==t?(t.runId!==e.lastAccessedBy&&(e.lastAccessedBy=t.runId,t.newObserving[t.unboundDepsCount++]=e,e.isBeingObserved||(e.isBeingObserved=!0,e.onBecomeObserved())),!0):(0===e.observers.size&&St.inBatch>0&&xt(e),!1)}function jt(e,t){if(console.log("[mobx.trace] '"+e.name+"' is invalidated due to a change in: '"+t.name+"'"),e.isTracing===qe.BREAK){var n=[];!function e(t,n,r){if(n.length>=1e3)return void n.push("(and many more)");n.push(""+new Array(r).join("\t")+t.name),t.dependencies&&t.dependencies.forEach((function(t){return e(t,n,r+1)}))}((r=e,en(Gn(r,o))),n,1),new Function("debugger;\n/*\nTracing '"+e.name+"'\n\nYou are entering this break point because derivation '"+e.name+"' is being traced and '"+t.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof mt?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}var r,o}var Tt=function(){function e(e,t,n,r){void 0===e&&(e="Reaction@"+re()),void 0===r&&(r=!1),this.name=e,this.onInvalidate=t,this.errorHandler=n,this.requiresObservable=r,this.observing=[],this.newObserving=[],this.dependenciesState=Ge.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+re(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=qe.NONE}return e.prototype.onBecomeStale=function(){this.schedule()},e.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,St.pendingReactions.push(this),It())},e.prototype.isScheduled=function(){return this._isScheduled},e.prototype.runReaction=function(){if(!this.isDisposed){if(Dt(),this._isScheduled=!1,Ze(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&$t()&&"production"!==process.env.NODE_ENV&&zt({name:this.name,type:"scheduled-reaction"})}catch(e){this.reportExceptionInDerivation(e)}}Pt()}},e.prototype.track=function(e){if(!this.isDisposed){Dt();var t,n=$t();n&&"production"!==process.env.NODE_ENV&&(t=Date.now(),Lt({name:this.name,type:"reaction"})),this._isRunning=!0;var r=et(this,e,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&tt(this),Xe(r)&&this.reportExceptionInDerivation(r.cause),n&&"production"!==process.env.NODE_ENV&&Ut({time:Date.now()-t}),Pt()}},e.prototype.reportExceptionInDerivation=function(e){var t=this;if(this.errorHandler)this.errorHandler(e,this);else{if(St.disableErrorBoundaries)throw e;var n="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";St.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(n,e),$t()&&zt({type:"error",name:this.name,message:n,error:""+e}),St.globalReactionErrorHandlers.forEach((function(n){return n(e,t)}))}},e.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Dt(),tt(this),Pt()))},e.prototype.getDisposer=function(){var e=this.dispose.bind(this);return e[ge]=this,e},e.prototype.toString=function(){return"Reaction["+this.name+"]"},e.prototype.trace=function(e){void 0===e&&(e=!1),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=!1;"boolean"==typeof e[e.length-1]&&(n=e.pop());var r=fn(e);if(!r)return oe("production"!==process.env.NODE_ENV&&"'trace(break?)' can only be used inside a tracked computed value or a Reaction. Consider passing in the computed value or reaction explicitly");r.isTracing===qe.NONE&&console.log("[mobx.trace] '"+r.name+"' tracing enabled");r.isTracing=n?qe.BREAK:qe.LOG}(this,e)},e}();function It(){St.inBatch>0||St.isRunningReactions||kt()}function kt(){St.isRunningReactions=!0;for(var e=St.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction()}St.isRunningReactions=!1}var Rt=fe("Reaction",Tt);function $t(){return"production"!==process.env.NODE_ENV&&!!St.spyListeners.length}function zt(e){if("production"!==process.env.NODE_ENV&&St.spyListeners.length)for(var t=St.spyListeners,n=0,r=t.length;n<r;n++)t[n](e)}function Lt(e){"production"!==process.env.NODE_ENV&&zt(X(X({},e),{spyReportStart:!0}))}var Mt={spyReportEnd:!0};function Ut(e){"production"!==process.env.NODE_ENV&&zt(e?X(X({},e),{spyReportEnd:!0}):Mt)}function Ht(){oe("production"!==process.env.NODE_ENV&&"@action fields are not reassignable")}function Bt(e){return function(t,n,r){if(r){if("production"!==process.env.NODE_ENV&&void 0!==r.get)return oe("@action cannot be used with getters");if(r.value)return{value:ft(e,r.value),enumerable:!1,configurable:!0,writable:!0};var o=r.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return ft(e,o.call(this))}}}return Ft(e).apply(this,arguments)}}function Ft(e){return function(t,n,r){Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:function(){},set:function(t){pe(this,n,Gt(e,t))}})}}var Gt=function(e,t,n,r){return 1===arguments.length&&"function"==typeof e?ft(e.name||"<unnamed action>",e):2===arguments.length&&"function"==typeof t?ft(e,t):1===arguments.length&&"string"==typeof e?Bt(e):!0!==r?Bt(t).apply(null,arguments):void pe(e,t,ft(e.name||t,n.value,this))};function qt(e,t,n){pe(e,t,ft(t,n.bind(e)))}Gt.bound=function(e,t,n,r){return!0===r?(qt(e,t,n.value),null):n?{configurable:!0,enumerable:!1,get:function(){return qt(this,t,n.value||n.initializer.call(this)),this[t]},set:Ht}:{enumerable:!1,configurable:!0,set:function(e){qt(this,t,e)},get:function(){}}};var Wt=function(e){return e()};function Kt(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Wt}function Jt(e,t,n){return Yt("onBecomeUnobserved",e,t,n)}function Yt(e,t,n,r){var o="function"==typeof r?Gn(t,n):Gn(t),i="function"==typeof r?r:n,a=e+"Listeners";return o[a]?o[a].add(i):o[a]=new Set([i]),"function"!=typeof o[e]?oe("production"!==process.env.NODE_ENV&&"Not an atom that can be (un)observed"):function(){var e=o[a];e&&(e.delete(i),0===e.size&&delete o[a])}}function Xt(e,t,n,r){"production"!==process.env.NODE_ENV&&(ie(arguments.length>=2&&arguments.length<=4,"'extendObservable' expected 2-4 arguments"),ie("object"==typeof e,"'extendObservable' expects an object as first argument"),ie(!In(e),"'extendObservable' should not be used on maps, use map.merge instead"));var o=Zt(r=Re(r));return xe(e),Ln(e,r.name,o.enhancer),t&&Qt(e,t,n,o),e}function Zt(e){return e.defaultDecorator||(!1===e.deep?Le:$e)}function Qt(e,t,n,r){var o,i,a,s;if("production"!==process.env.NODE_ENV&&(ie(!sn(t),"Extending an object with another observable (object) is not supported. Please construct an explicit propertymap, using `toJS` if need. See issue #540"),n)){var u=ve(n);try{for(var c=Z(u),p=c.next();!p.done;p=c.next()){(h=p.value)in t||oe("Trying to declare a decorator for unspecified property '"+ye(h)+"'")}}catch(e){o={error:e}}finally{try{p&&!p.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}}Dt();try{u=ve(t);try{for(var l=Z(u),f=l.next();!f.done;f=l.next()){var h=f.value,d=Object.getOwnPropertyDescriptor(t,h);"production"!==process.env.NODE_ENV&&(ce(t)||oe("'extendObservabe' only accepts plain objects as second argument"),on(d.value)&&oe("Passing a 'computed' as initial property value is no longer supported by extendObservable. Use a getter or decorator instead"));var v=n&&h in n?n[h]:d.get?We:r;"production"!==process.env.NODE_ENV&&"function"!=typeof v&&oe("Not a valid decorator for '"+ye(h)+"', got: "+v);var y=v(e,h,d,!0);y&&Object.defineProperty(e,h,y)}}catch(e){a={error:e}}finally{try{f&&!f.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}}finally{Pt()}}function en(e){var t,n,r={name:e.name};return e.observing&&e.observing.length>0&&(r.dependencies=(t=e.observing,n=[],t.forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n).map(en)),r}function tn(e,t,n){var r;if(In(e)||Pn(e)||gt(e))r=qn(e);else{if(!Fn(e))return oe("production"!==process.env.NODE_ENV&&"Expected observable map, object or array as first array");if("string"!=typeof t)return oe("production"!==process.env.NODE_ENV&&"InterceptReads can only be used with a specific property, not with an object in general");r=qn(e,t)}return void 0!==r.dehancer?oe("production"!==process.env.NODE_ENV&&"An intercept reader was already established"):(r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0})}function nn(e,t,n){return"function"==typeof n?function(e,t,n){return qn(e,t).intercept(n)}(e,t,n):function(e,t){return qn(e).intercept(t)}(e,t)}function rn(e,t){if(null==e)return!1;if(void 0!==t){if(!1===Fn(e))return!1;if(!e[ge].values.has(t))return!1;var n=Gn(e,t);return wt(n)}return wt(e)}function on(e){return arguments.length>1?oe("production"!==process.env.NODE_ENV&&"isComputed expects only 1 argument. Use isObservableProp to inspect the observability of a property"):rn(e)}function an(e,t){return null!=e&&(void 0!==t?"production"!==process.env.NODE_ENV&&(In(e)||Pn(e))?oe("isObservable(object, propertyName) is not supported for arrays and maps. Use map.has or array.length instead."):!!Fn(e)&&e[ge].values.has(t):Fn(e)||!!e[ge]||we(e)||Rt(e)||wt(e))}function sn(e){return 1!==arguments.length&&oe("production"!==process.env.NODE_ENV&&"isObservable expects only 1 argument. Use isObservableProp to inspect the observability of a property"),an(e)}function un(e){return Fn(e)?e[ge].getKeys():In(e)||$n(e)?Array.from(e.keys()):Pn(e)?e.map((function(e,t){return t})):oe("production"!==process.env.NODE_ENV&&"'keys()' can only be used on observable objects, arrays, sets and maps")}function cn(e){return Fn(e)?un(e).map((function(t){return e[t]})):In(e)?un(e).map((function(t){return e.get(t)})):$n(e)?Array.from(e.values()):Pn(e)?e.slice():oe("production"!==process.env.NODE_ENV&&"'values()' can only be used on observable objects, arrays, sets and maps")}function pn(e,t,n){if(2!==arguments.length||$n(e))if(Fn(e)){var r=e[ge],o=r.values.get(t);o?r.write(t,n):r.addObservableProp(t,n,r.defaultEnhancer)}else if(In(e))e.set(t,n);else if($n(e))e.add(t);else{if(!Pn(e))return oe("production"!==process.env.NODE_ENV&&"'set()' can only be used on observable objects, arrays and maps");"number"!=typeof t&&(t=parseInt(t,10)),ie(t>=0,"Not a valid index: '"+t+"'"),Dt(),t>=e.length&&(e.length=t+1),e[t]=n,Pt()}else{Dt();var i=t;try{for(var a in i)pn(e,a,i[a])}finally{Pt()}}}function ln(e,t,n,r){return"function"==typeof n?function(e,t,n,r){return qn(e,t).observe(n,r)}(e,t,n,r):function(e,t,n){return qn(e).observe(t,n)}(e,t,n)}function fn(e){switch(e.length){case 0:return St.trackingDerivation;case 1:return Gn(e[0]);case 2:return Gn(e[0],e[1])}}function hn(e,t){void 0===t&&(t=void 0),Dt();try{return e.apply(t)}finally{Pt()}}function dn(e){return e[ge]}function vn(e){return"string"==typeof e||"number"==typeof e||"symbol"==typeof e}var yn={has:function(e,t){if(t===ge||"constructor"===t||t===Oe)return!0;var n=dn(e);return vn(t)?n.has(t):t in e},get:function(e,t){if(t===ge||"constructor"===t||t===Oe)return e[t];var n=dn(e),r=n.values.get(t);if(r instanceof me){var o=r.get();return void 0===o&&n.has(t),o}return vn(t)&&n.has(t),e[t]},set:function(e,t,n){return!!vn(t)&&(pn(e,t,n),!0)},deleteProperty:function(e,t){return!!vn(t)&&(dn(e).remove(t),!0)},ownKeys:function(e){return dn(e).keysAtom.reportObserved(),Reflect.ownKeys(e)},preventExtensions:function(e){return oe("Dynamic observable objects cannot be frozen"),!1}};function bn(e){var t=new Proxy(e,yn);return e[ge].proxy=t,t}function gn(e){return void 0!==e.interceptors&&e.interceptors.length>0}function mn(e,t){var n=e.interceptors||(e.interceptors=[]);return n.push(t),ae((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function wn(e,t){var n=rt();try{for(var r=ee(e.interceptors||[]),o=0,i=r.length;o<i&&(ie(!(t=r[o](t))||t.type,"Intercept handlers should return nothing or a change object"),t);o++);return t}finally{ot(n)}}function _n(e){return void 0!==e.changeListeners&&e.changeListeners.length>0}function En(e,t){var n=e.changeListeners||(e.changeListeners=[]);return n.push(t),ae((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function On(e,t){var n=rt(),r=e.changeListeners;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](t);ot(n)}}var Nn={get:function(e,t){return t===ge?e[ge]:"length"===t?e[ge].getArrayLength():"number"==typeof t?Vn.get.call(e,t):"string"!=typeof t||isNaN(t)?Vn.hasOwnProperty(t)?Vn[t]:e[t]:Vn.get.call(e,parseInt(t))},set:function(e,t,n){return"length"===t&&e[ge].setArrayLength(n),"number"==typeof t&&Vn.set.call(e,t,n),"symbol"==typeof t||isNaN(t)?e[t]=n:Vn.set.call(e,parseInt(t),n),!0},preventExtensions:function(e){return oe("Observable arrays cannot be frozen"),!1}};function Sn(e,t,n,r){void 0===n&&(n="ObservableArray@"+re()),void 0===r&&(r=!1);var o,i,a,s=new An(n,t,r);o=s.values,i=ge,a=s,Object.defineProperty(o,i,{enumerable:!1,writable:!1,configurable:!0,value:a});var u=new Proxy(s.values,Nn);if(s.proxy=u,e&&e.length){var c=dt(!0);s.spliceWithArray(0,0,e),vt(c)}return u}var An=function(){function e(e,t,n){this.owned=n,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new me(e||"ObservableArray@"+re()),this.enhancer=function(n,r){return t(n,r,e+"[..]")}}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.dehanceValues=function(e){return void 0!==this.dehancer&&e.length>0?e.map(this.dehancer):e},e.prototype.intercept=function(e){return mn(this,e)},e.prototype.observe=function(e,t){return void 0===t&&(t=!1),t&&e({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),En(this,e)},e.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},e.prototype.setArrayLength=function(e){if("number"!=typeof e||e<0)throw new Error("[mobx.array] Out of range: "+e);var t=this.values.length;if(e!==t)if(e>t){for(var n=new Array(e-t),r=0;r<e-t;r++)n[r]=void 0;this.spliceWithArray(t,0,n)}else this.spliceWithArray(e,t-e)},e.prototype.updateArrayLength=function(e,t){if(e!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=t},e.prototype.spliceWithArray=function(e,t,n){var r=this;Qe(this.atom);var o=this.values.length;if(void 0===e?e=0:e>o?e=o:e<0&&(e=Math.max(0,o+e)),t=1===arguments.length?o-e:null==t?0:Math.max(0,Math.min(t,o-e)),void 0===n&&(n=te),gn(this)){var i=wn(this,{object:this.proxy,type:"splice",index:e,removedCount:t,added:n});if(!i)return te;t=i.removedCount,n=i.added}if(n=0===n.length?n:n.map((function(e){return r.enhancer(e,void 0)})),"production"!==process.env.NODE_ENV){var a=n.length-t;this.updateArrayLength(o,a)}var s=this.spliceItemsIntoValues(e,t,n);return 0===t&&0===n.length||this.notifyArraySplice(e,n,s),this.dehanceValues(s)},e.prototype.spliceItemsIntoValues=function(e,t,n){var r;if(n.length<1e4)return(r=this.values).splice.apply(r,ee([e,t],n));var o=this.values.slice(e,e+t);return this.values=this.values.slice(0,e).concat(n,this.values.slice(e+t)),o},e.prototype.notifyArrayChildUpdate=function(e,t,n){var r=!this.owned&&$t(),o=_n(this),i=o||r?{object:this.proxy,type:"update",index:e,newValue:t,oldValue:n}:null;r&&"production"!==process.env.NODE_ENV&&Lt(X(X({},i),{name:this.atom.name})),this.atom.reportChanged(),o&&On(this,i),r&&"production"!==process.env.NODE_ENV&&Ut()},e.prototype.notifyArraySplice=function(e,t,n){var r=!this.owned&&$t(),o=_n(this),i=o||r?{object:this.proxy,type:"splice",index:e,removed:n,added:t,removedCount:n.length,addedCount:t.length}:null;r&&"production"!==process.env.NODE_ENV&&Lt(X(X({},i),{name:this.atom.name})),this.atom.reportChanged(),o&&On(this,i),r&&"production"!==process.env.NODE_ENV&&Ut()},e}(),Vn={intercept:function(e){return this[ge].intercept(e)},observe:function(e,t){return void 0===t&&(t=!1),this[ge].observe(e,t)},clear:function(){return this.splice(0)},replace:function(e){var t=this[ge];return t.spliceWithArray(0,t.values.length,e)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=this[ge];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray(e);case 2:return o.spliceWithArray(e,t)}return o.spliceWithArray(e,t,n)},spliceWithArray:function(e,t,n){return this[ge].spliceWithArray(e,t,n)},push:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[ge];return n.spliceWithArray(n.values.length,0,e),n.values.length},pop:function(){return this.splice(Math.max(this[ge].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this[ge];return n.spliceWithArray(0,0,e),n.values.length},reverse:function(){"production"!==process.env.NODE_ENV&&console.warn("[mobx] `observableArray.reverse()` will not update the array in place. Use `observableArray.slice().reverse()` to suppress this warning and perform the operation on a copy, or `observableArray.replace(observableArray.slice().reverse())` to reverse & update in place");var e=this.slice();return e.reverse.apply(e,arguments)},sort:function(e){"production"!==process.env.NODE_ENV&&console.warn("[mobx] `observableArray.sort()` will not update the array in place. Use `observableArray.slice().sort()` to suppress this warning and perform the operation on a copy, or `observableArray.replace(observableArray.slice().sort())` to sort & update in place");var t=this.slice();return t.sort.apply(t,arguments)},remove:function(e){var t=this[ge],n=t.dehanceValues(t.values).indexOf(e);return n>-1&&(this.splice(n,1),!0)},get:function(e){var t=this[ge];if(t){if(e<t.values.length)return t.atom.reportObserved(),t.dehanceValue(t.values[e]);console.warn("[mobx.array] Attempt to read an array index ("+e+") that is out of bounds ("+t.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(e,t){var n=this[ge],r=n.values;if(e<r.length){Qe(n.atom);var o=r[e];if(gn(n)){var i=wn(n,{type:"update",object:n.proxy,index:e,newValue:t});if(!i)return;t=i.newValue}(t=n.enhancer(t,o))!==o&&(r[e]=t,n.notifyArrayChildUpdate(e,t,o))}else{if(e!==r.length)throw new Error("[mobx.array] Index out of bounds, "+e+" is larger than "+r.length);n.spliceWithArray(e,0,[t])}}};["concat","every","filter","forEach","indexOf","join","lastIndexOf","map","reduce","reduceRight","slice","some","toString","toLocaleString"].forEach((function(e){Vn[e]=function(){var t=this[ge];t.atom.reportObserved();var n=t.dehanceValues(t.values);return n[e].apply(n,arguments)}}));var xn,Dn=fe("ObservableArrayAdministration",An);function Pn(e){return ue(e)&&Dn(e[ge])}var Cn,jn={},Tn=function(){function e(e,t,n){if(void 0===t&&(t=Ce),void 0===n&&(n="ObservableMap@"+re()),this.enhancer=t,this.name=n,this[xn]=jn,this._keysAtom=_e(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(e)}return e.prototype._has=function(e){return this._data.has(e)},e.prototype.has=function(e){var t=this;if(!St.trackingDerivation)return this._has(e);var n=this._hasMap.get(e);if(!n){var r=n=new bt(this._has(e),je,this.name+"."+ye(e)+"?",!1);this._hasMap.set(e,r),Jt(r,(function(){return t._hasMap.delete(e)}))}return n.get()},e.prototype.set=function(e,t){var n=this._has(e);if(gn(this)){var r=wn(this,{type:n?"update":"add",object:this,newValue:t,name:e});if(!r)return this;t=r.newValue}return n?this._updateValue(e,t):this._addValue(e,t),this},e.prototype.delete=function(e){var t=this;if(gn(this)&&!(o=wn(this,{type:"delete",object:this,name:e})))return!1;if(this._has(e)){var n=$t(),r=_n(this),o=r||n?{type:"delete",object:this,oldValue:this._data.get(e).value,name:e}:null;return n&&"production"!==process.env.NODE_ENV&&Lt(X(X({},o),{name:this.name,key:e})),hn((function(){t._keysAtom.reportChanged(),t._updateHasMapEntry(e,!1),t._data.get(e).setNewValue(void 0),t._data.delete(e)})),r&&On(this,o),n&&"production"!==process.env.NODE_ENV&&Ut(),!0}return!1},e.prototype._updateHasMapEntry=function(e,t){var n=this._hasMap.get(e);n&&n.setNewValue(t)},e.prototype._updateValue=function(e,t){var n=this._data.get(e);if((t=n.prepareNewValue(t))!==St.UNCHANGED){var r=$t(),o=_n(this),i=o||r?{type:"update",object:this,oldValue:n.value,name:e,newValue:t}:null;r&&"production"!==process.env.NODE_ENV&&Lt(X(X({},i),{name:this.name,key:e})),n.setNewValue(t),o&&On(this,i),r&&"production"!==process.env.NODE_ENV&&Ut()}},e.prototype._addValue=function(e,t){var n=this;Qe(this._keysAtom),hn((function(){var r=new bt(t,n.enhancer,n.name+"."+ye(e),!1);n._data.set(e,r),t=r.value,n._updateHasMapEntry(e,!0),n._keysAtom.reportChanged()}));var r=$t(),o=_n(this),i=o||r?{type:"add",object:this,name:e,newValue:t}:null;r&&"production"!==process.env.NODE_ENV&&Lt(X(X({},i),{name:this.name,key:e})),o&&On(this,i),r&&"production"!==process.env.NODE_ENV&&Ut()},e.prototype.get=function(e){return this.has(e)?this.dehanceValue(this._data.get(e).get()):this.dehanceValue(void 0)},e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},e.prototype.values=function(){var e=this,t=0,n=Array.from(this.keys());return Zn({next:function(){return t<n.length?{value:e.get(n[t++]),done:!1}:{done:!0}}})},e.prototype.entries=function(){var e=this,t=0,n=Array.from(this.keys());return Zn({next:function(){if(t<n.length){var r=n[t++];return{value:[r,e.get(r)],done:!1}}return{done:!0}}})},e.prototype[(xn=ge,Symbol.iterator)]=function(){return this.entries()},e.prototype.forEach=function(e,t){var n,r;try{for(var o=Z(this),i=o.next();!i.done;i=o.next()){var a=Q(i.value,2),s=a[0],u=a[1];e.call(t,u,s,this)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.merge=function(e){var t=this;return In(e)&&(e=e.toJS()),hn((function(){ce(e)?ve(e).forEach((function(n){return t.set(n,e[n])})):Array.isArray(e)?e.forEach((function(e){var n=Q(e,2),r=n[0],o=n[1];return t.set(r,o)})):he(e)?(e.constructor!==Map&&oe("Cannot initialize from classes that inherit from Map: "+e.constructor.name),e.forEach((function(e,n){return t.set(n,e)}))):null!=e&&oe("Cannot initialize map from "+e)})),this},e.prototype.clear=function(){var e=this;hn((function(){nt((function(){var t,n;try{for(var r=Z(e.keys()),o=r.next();!o.done;o=r.next()){var i=o.value;e.delete(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))}))},e.prototype.replace=function(e){var t=this;return hn((function(){var n=function(e){return ce(e)?Object.keys(e):Array.isArray(e)?e.map((function(e){return Q(e,1)[0]})):he(e)||In(e)?Array.from(e.keys()):oe("Cannot get keys from '"+e+"'")}(e);Array.from(t.keys()).filter((function(e){return-1===n.indexOf(e)})).forEach((function(e){return t.delete(e)})),t.merge(e)})),this},Object.defineProperty(e.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.toPOJO=function(){var e,t,n={};try{for(var r=Z(this),o=r.next();!o.done;o=r.next()){var i=Q(o.value,2),a=i[0],s=i[1];n["symbol"==typeof a?a:ye(a)]=s}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.toJS=function(){return new Map(this)},e.prototype.toJSON=function(){return this.toPOJO()},e.prototype.toString=function(){var e=this;return this.name+"[{ "+Array.from(this.keys()).map((function(t){return ye(t)+": "+e.get(t)})).join(", ")+" }]"},e.prototype.observe=function(e,t){return"production"!==process.env.NODE_ENV&&ie(!0!==t,"`observe` doesn't support fireImmediately=true in combination with maps."),En(this,e)},e.prototype.intercept=function(e){return mn(this,e)},e}(),In=fe("ObservableMap",Tn),kn={},Rn=function(){function e(e,t,n){if(void 0===t&&(t=Ce),void 0===n&&(n="ObservableSet@"+re()),this.name=n,this[Cn]=kn,this._data=new Set,this._atom=_e(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(e,r){return t(e,r,n)},e&&this.replace(e)}return e.prototype.dehanceValue=function(e){return void 0!==this.dehancer?this.dehancer(e):e},e.prototype.clear=function(){var e=this;hn((function(){nt((function(){var t,n;try{for(var r=Z(e._data.values()),o=r.next();!o.done;o=r.next()){var i=o.value;e.delete(i)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}))}))},e.prototype.forEach=function(e,t){var n,r;try{for(var o=Z(this),i=o.next();!i.done;i=o.next()){var a=i.value;e.call(t,a,a,this)}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},Object.defineProperty(e.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),e.prototype.add=function(e){var t=this;if((Qe(this._atom),gn(this))&&!(o=wn(this,{type:"add",object:this,newValue:e})))return this;if(!this.has(e)){hn((function(){t._data.add(t.enhancer(e,void 0)),t._atom.reportChanged()}));var n=$t(),r=_n(this),o=r||n?{type:"add",object:this,newValue:e}:null;n&&"production"!==process.env.NODE_ENV&&Lt(o),r&&On(this,o),n&&"production"!==process.env.NODE_ENV&&Ut()}return this},e.prototype.delete=function(e){var t=this;if(gn(this)&&!(o=wn(this,{type:"delete",object:this,oldValue:e})))return!1;if(this.has(e)){var n=$t(),r=_n(this),o=r||n?{type:"delete",object:this,oldValue:e}:null;return n&&"production"!==process.env.NODE_ENV&&Lt(X(X({},o),{name:this.name})),hn((function(){t._atom.reportChanged(),t._data.delete(e)})),r&&On(this,o),n&&"production"!==process.env.NODE_ENV&&Ut(),!0}return!1},e.prototype.has=function(e){return this._atom.reportObserved(),this._data.has(this.dehanceValue(e))},e.prototype.entries=function(){var e=0,t=Array.from(this.keys()),n=Array.from(this.values());return Zn({next:function(){var r=e;return e+=1,r<n.length?{value:[t[r],n[r]],done:!1}:{done:!0}}})},e.prototype.keys=function(){return this.values()},e.prototype.values=function(){this._atom.reportObserved();var e=this,t=0,n=Array.from(this._data.values());return Zn({next:function(){return t<n.length?{value:e.dehanceValue(n[t++]),done:!1}:{done:!0}}})},e.prototype.replace=function(e){var t=this;return $n(e)&&(e=e.toJS()),hn((function(){Array.isArray(e)||de(e)?(t.clear(),e.forEach((function(e){return t.add(e)}))):null!=e&&oe("Cannot initialize set from "+e)})),this},e.prototype.observe=function(e,t){return"production"!==process.env.NODE_ENV&&ie(!0!==t,"`observe` doesn't support fireImmediately=true in combination with sets."),En(this,e)},e.prototype.intercept=function(e){return mn(this,e)},e.prototype.toJS=function(){return new Set(this)},e.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},e.prototype[(Cn=ge,Symbol.iterator)]=function(){return this.values()},e}(),$n=fe("ObservableSet",Rn),zn=function(){function e(e,t,n,r){void 0===t&&(t=new Map),this.target=e,this.values=t,this.name=n,this.defaultEnhancer=r,this.keysAtom=new me(n+".keys")}return e.prototype.read=function(e){return this.values.get(e).get()},e.prototype.write=function(e,t){var n=this.target,r=this.values.get(e);if(r instanceof mt)r.set(t);else{if(gn(this)){if(!(a=wn(this,{type:"update",object:this.proxy||n,name:e,newValue:t})))return;t=a.newValue}if((t=r.prepareNewValue(t))!==St.UNCHANGED){var o=_n(this),i=$t(),a=o||i?{type:"update",object:this.proxy||n,oldValue:r.value,name:e,newValue:t}:null;i&&"production"!==process.env.NODE_ENV&&Lt(X(X({},a),{name:this.name,key:e})),r.setNewValue(t),o&&On(this,a),i&&"production"!==process.env.NODE_ENV&&Ut()}}},e.prototype.has=function(e){var t=this.pendingKeys||(this.pendingKeys=new Map),n=t.get(e);if(n)return n.get();var r=!!this.values.get(e);return n=new bt(r,je,this.name+"."+ye(e)+"?",!1),t.set(e,n),n.get()},e.prototype.addObservableProp=function(e,t,n){void 0===n&&(n=this.defaultEnhancer);var r,o,i=this.target;if(r=i,o=e,"production"===process.env.NODE_ENV||le(r,o)||oe("Cannot make property '"+o.toString()+"' observable, it is not configurable and writable in the target object"),gn(this)){var a=wn(this,{object:this.proxy||i,name:e,type:"add",newValue:t});if(!a)return;t=a.newValue}var s=new bt(t,n,this.name+"."+ye(e),!1);this.values.set(e,s),t=s.value,Object.defineProperty(i,e,function(e){return Mn[e]||(Mn[e]={configurable:!0,enumerable:!0,get:function(){return this[ge].read(e)},set:function(t){this[ge].write(e,t)}})}(e)),this.notifyPropertyAddition(e,t)},e.prototype.addComputedProp=function(e,t,n){var r=this.target;n.name=n.name||this.name+"."+ye(t),this.values.set(t,new mt(n)),(e===r||le(e,t))&&Object.defineProperty(e,t,function(e){return Un[e]||(Un[e]={configurable:St.computedConfigurable,enumerable:!1,get:function(){return Hn(this).read(e)},set:function(t){Hn(this).write(e,t)}})}(t))},e.prototype.remove=function(e){if(this.values.has(e)){var t=this.target;if(gn(this))if(!(s=wn(this,{object:this.proxy||t,name:e,type:"remove"})))return;try{Dt();var n=_n(this),r=$t(),o=this.values.get(e),i=o&&o.get();if(o&&o.set(void 0),this.keysAtom.reportChanged(),this.values.delete(e),this.pendingKeys){var a=this.pendingKeys.get(e);a&&a.set(!1)}delete this.target[e];var s=n||r?{type:"remove",object:this.proxy||t,oldValue:i,name:e}:null;r&&"production"!==process.env.NODE_ENV&&Lt(X(X({},s),{name:this.name,key:e})),n&&On(this,s),r&&"production"!==process.env.NODE_ENV&&Ut()}finally{Pt()}}},e.prototype.illegalAccess=function(e,t){console.warn("Property '"+t+"' of '"+e+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},e.prototype.observe=function(e,t){return"production"!==process.env.NODE_ENV&&ie(!0!==t,"`observe` doesn't support the fire immediately property for observable objects."),En(this,e)},e.prototype.intercept=function(e){return mn(this,e)},e.prototype.notifyPropertyAddition=function(e,t){var n=_n(this),r=$t(),o=n||r?{type:"add",object:this.proxy||this.target,name:e,newValue:t}:null;if(r&&"production"!==process.env.NODE_ENV&&Lt(X(X({},o),{name:this.name,key:e})),n&&On(this,o),r&&"production"!==process.env.NODE_ENV&&Ut(),this.pendingKeys){var i=this.pendingKeys.get(e);i&&i.set(!0)}this.keysAtom.reportChanged()},e.prototype.getKeys=function(){var e,t;this.keysAtom.reportObserved();var n=[];try{for(var r=Z(this.values),o=r.next();!o.done;o=r.next()){var i=Q(o.value,2),a=i[0];i[1]instanceof bt&&n.push(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e}();function Ln(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=Ce),Object.prototype.hasOwnProperty.call(e,ge))return e[ge];"production"!==process.env.NODE_ENV&&ie(Object.isExtensible(e),"Cannot make the designated object observable; it is not extensible"),ce(e)||(t=(e.constructor.name||"ObservableObject")+"@"+re()),t||(t="ObservableObject@"+re());var r=new zn(e,new Map,ye(t),n);return pe(e,ge,r),r}var Mn=Object.create(null),Un=Object.create(null);function Hn(e){var t=e[ge];return t||(xe(e),e[ge])}var Bn=fe("ObservableObjectAdministration",zn);function Fn(e){return!!ue(e)&&(xe(e),Bn(e[ge]))}function Gn(e,t){if("object"==typeof e&&null!==e){if(Pn(e))return void 0!==t&&oe("production"!==process.env.NODE_ENV&&"It is not possible to get index atoms from arrays"),e[ge].atom;if($n(e))return e[ge];if(In(e)){var n=e;return void 0===t?n._keysAtom:((r=n._data.get(t)||n._hasMap.get(t))||oe("production"!==process.env.NODE_ENV&&"the entry '"+t+"' does not exist in the observable map '"+Wn(e)+"'"),r)}var r;if(xe(e),t&&!e[ge]&&e[t],Fn(e))return t?((r=e[ge].values.get(t))||oe("production"!==process.env.NODE_ENV&&"no observable property '"+t+"' found on the observable object '"+Wn(e)+"'"),r):oe("production"!==process.env.NODE_ENV&&"please specify a property");if(we(e)||wt(e)||Rt(e))return e}else if("function"==typeof e&&Rt(e[ge]))return e[ge];return oe("production"!==process.env.NODE_ENV&&"Cannot obtain atom from "+e)}function qn(e,t){return e||oe("Expecting some object"),void 0!==t?qn(Gn(e,t)):we(e)||wt(e)||Rt(e)||In(e)||$n(e)?e:(xe(e),e[ge]?e[ge]:void oe("production"!==process.env.NODE_ENV&&"Cannot obtain administration from "+e))}function Wn(e,t){return(void 0!==t?Gn(e,t):Fn(e)||In(e)||$n(e)?qn(e):Gn(e)).name}var Kn=Object.prototype.toString;function Jn(e,t,n){return void 0===n&&(n=-1),function e(t,n,r,o,i){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return!1;if(t!=t)return n!=n;var a=typeof t;if("function"!==a&&"object"!==a&&"object"!=typeof n)return!1;var s=Kn.call(t);if(s!==Kn.call(n))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+n;case"[object Number]":return+t!=+t?+n!=+n:0==+t?1/+t==1/n:+t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(t)===Symbol.valueOf.call(n);case"[object Map]":case"[object Set]":r>=0&&r++}t=Yn(t),n=Yn(n);var u="[object Array]"===s;if(!u){if("object"!=typeof t||"object"!=typeof n)return!1;var c=t.constructor,p=n.constructor;if(c!==p&&!("function"==typeof c&&c instanceof c&&"function"==typeof p&&p instanceof p)&&"constructor"in t&&"constructor"in n)return!1}if(0===r)return!1;r<0&&(r=-1);i=i||[];var l=(o=o||[]).length;for(;l--;)if(o[l]===t)return i[l]===n;if(o.push(t),i.push(n),u){if((l=t.length)!==n.length)return!1;for(;l--;)if(!e(t[l],n[l],r-1,o,i))return!1}else{var f=Object.keys(t),h=void 0;if(l=f.length,Object.keys(n).length!==l)return!1;for(;l--;)if(h=f[l],!Xn(n,h)||!e(t[h],n[h],r-1,o,i))return!1}return o.pop(),i.pop(),!0}(e,t,n)}function Yn(e){return Pn(e)?e.slice():he(e)||In(e)||de(e)||$n(e)?Array.from(e.entries()):e}function Xn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Zn(e){return e[Symbol.iterator]=Qn,e}function Qn(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");try{process.env.NODE_ENV}catch(e){var er=Ot();"undefined"==typeof process&&(er.process={}),er.process.env={}}!function(){if("testCodeMinification"!==function(){}.name&&"production"!==process.env.NODE_ENV&&"undefined"!=typeof process&&"true"!==process.env.IGNORE_MOBX_MINIFY_WARNING){var e=["process","env","NODE_ENV"].join(".");console.warn("[mobx] you are running a minified build, but '"+e+"' was not set to 'production' in your bundler. This results in an unnecessarily large and slow bundle")}}(),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function(e){return"production"===process.env.NODE_ENV?(console.warn("[mobx.spy] Is a no-op in production builds"),function(){}):(St.spyListeners.push(e),ae((function(){St.spyListeners=St.spyListeners.filter((function(t){return t!==e}))})))},extras:{getDebugName:Wn},$mobx:ge});var tr;!function(e){e.afterCreate="afterCreate",e.afterAttach="afterAttach",e.afterCreationFinalization="afterCreationFinalization",e.beforeDetach="beforeDetach",e.beforeDestroy="beforeDestroy"}(tr||(tr={}));
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
var nr=function(e,t){return(nr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function rr(e,t){function n(){this.constructor=e}nr(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var or=function(){return(or=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function ir(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a}function ar(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function sr(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function ur(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(sr(arguments[t]));return e}function cr(e){return Gr(e,1),qr(e).type}function pr(e,t){return Gr(e,1),go(t,2),qr(e).onSnapshot(t)}function lr(e,t){Gr(e,1),bo(t,(function(e){return"object"==typeof e}),"object or array",2),qr(e).applyPatches(oo(t))}function fr(e,t){void 0===t&&(t=!0),Gr(e,1);var n=qr(e);return t?n.snapshot:uo(n.type.getSnapshot(n,!1))}function hr(e){return Gr(e,1),qr(e).root.storedValue}var dr,vr=function(){function e(e,t,n,r){this.type=e,this.environment=r,this._state=Lr.INITIALIZING,this.environment=r,this.baseSetParent(t,n)}return Object.defineProperty(e.prototype,"subpath",{get:function(){return this._subpath},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"subpathUponDeath",{get:function(){return this._subpathUponDeath},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathUponDeath",{get:function(){return this._pathUponDeath},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.type.getValue(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},set:function(e){var t=this.isAlive;this._state=e;var n=this.isAlive;this.aliveAtom&&t!==n&&this.aliveAtom.reportChanged()},enumerable:!0,configurable:!0}),e.prototype.fireInternalHook=function(e){this._hookSubscribers&&this._hookSubscribers.emit(e,this,e)},e.prototype.registerHook=function(e,t){return this._hookSubscribers||(this._hookSubscribers=new fo),this._hookSubscribers.register(e,t)},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),e.prototype.baseSetParent=function(e,t){this._parent=e,this._subpath=t,this._escapedSubpath=void 0,this.pathAtom&&this.pathAtom.reportChanged()},Object.defineProperty(e.prototype,"path",{get:function(){return this.getEscapedPath(!0)},enumerable:!0,configurable:!0}),e.prototype.getEscapedPath=function(e){return e&&(this.pathAtom||(this.pathAtom=_e("path")),this.pathAtom.reportObserved()),this.parent?(void 0===this._escapedSubpath&&(this._escapedSubpath=this._subpath?Eo(this._subpath):""),this.parent.getEscapedPath(e)+"/"+this._escapedSubpath):""},Object.defineProperty(e.prototype,"isRoot",{get:function(){return null===this.parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAlive",{get:function(){return this.state!==Lr.DEAD},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDetaching",{get:function(){return this.state===Lr.DETACHING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"observableIsAlive",{get:function(){return this.aliveAtom||(this.aliveAtom=_e("alive")),this.aliveAtom.reportObserved(),this.isAlive},enumerable:!0,configurable:!0}),e.prototype.baseFinalizeCreation=function(e){if(yo()&&!this.isAlive)throw fail("assertion failed: cannot finalize the creation of a node that is already dead");if(this.state===Lr.CREATED){if(this.parent){if(this.parent.state!==Lr.FINALIZED)return;this.fireHook(tr.afterAttach)}this.state=Lr.FINALIZED,e&&e()}},e.prototype.baseFinalizeDeath=function(){this._hookSubscribers&&this._hookSubscribers.clearAll(),this._subpathUponDeath=this._subpath,this._pathUponDeath=this.getEscapedPath(!1),this.baseSetParent(null,""),this.state=Lr.DEAD},e.prototype.baseAboutToDie=function(){this.fireHook(tr.beforeDestroy)},e}(),yr=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;try{a.storedValue=t.createNewInstance(i)}catch(e){throw a.state=Lr.DEAD,e}return a.state=Lr.CREATED,a.finalizeCreation(),a}return rr(t,e),Object.defineProperty(t.prototype,"root",{get:function(){if(!this.parent)throw eo("This scalar node is not part of a tree");return this.parent.root},enumerable:!0,configurable:!0}),t.prototype.setParent=function(e,t){var n=this.parent!==e,r=this.subpath!==t;if(n||r){if(yo()){if(!t)throw eo("assertion failed: subpath expected");if(!e)throw eo("assertion failed: parent expected");if(n)throw eo("assertion failed: scalar nodes cannot change their parent")}this.environment=void 0,this.baseSetParent(this.parent,t)}},Object.defineProperty(t.prototype,"snapshot",{get:function(){return uo(this.getSnapshot())},enumerable:!0,configurable:!0}),t.prototype.getSnapshot=function(){return this.type.getSnapshot(this)},t.prototype.toString=function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>";return this.type.name+"@"+e+(this.isAlive?"":" [dead]")},t.prototype.die=function(){this.isAlive&&this.state!==Lr.DETACHING&&(this.aboutToDie(),this.finalizeDeath())},t.prototype.finalizeCreation=function(){this.baseFinalizeCreation()},t.prototype.aboutToDie=function(){this.baseAboutToDie()},t.prototype.finalizeDeath=function(){this.baseFinalizeDeath()},t.prototype.fireHook=function(e){this.fireInternalHook(e)},ir([Gt],t.prototype,"die",null),t}(vr),br=1,gr={onError:function(e){throw e}},mr=function(e){function t(t,n,r,o,i){var a=e.call(this,t,n,r,o)||this;if(a.nodeId=++br,a.isProtectionEnabled=!0,a._autoUnbox=!0,a._isRunningAction=!1,a._hasSnapshotReaction=!1,a._observableInstanceState=0,a._cachedInitialSnapshotCreated=!1,a.unbox=a.unbox.bind(a),a._initialSnapshot=uo(i),a.identifierAttribute=t.identifierAttribute,n||(a.identifierCache=new Ur),a._childNodes=t.initializeChildNodes(a,a._initialSnapshot),a.identifier=null,a.unnormalizedIdentifier=null,a.identifierAttribute&&a._initialSnapshot){var s=a._initialSnapshot[a.identifierAttribute];if(void 0===s){var u=a._childNodes[a.identifierAttribute];u&&(s=u.value)}if("string"!=typeof s&&"number"!=typeof s)throw eo("Instance identifier '"+a.identifierAttribute+"' for type '"+a.type.name+"' must be a string or a number");a.identifier=mi(s),a.unnormalizedIdentifier=s}return n?n.root.identifierCache.addNodeToCache(a):a.identifierCache.addNodeToCache(a),a}return rr(t,e),t.prototype.applyPatches=function(e){this.createObservableInstanceIfNeeded(),this._applyPatches(e)},t.prototype.applySnapshot=function(e){this.createObservableInstanceIfNeeded(),this._applySnapshot(e)},t.prototype.createObservableInstanceIfNeeded=function(){0===this._observableInstanceState&&this.createObservableInstance()},t.prototype.createObservableInstance=function(){var e,t;if(yo()&&this.state!==Lr.INITIALIZING)throw eo("assertion failed: the creation of the observable instance must be done on the initializing phase");this._observableInstanceState=1;for(var n=[],r=this.parent;r&&0===r._observableInstanceState;)n.unshift(r),r=r.parent;try{for(var o=ar(n),i=o.next();!i.done;i=o.next()){i.value.createObservableInstanceIfNeeded()}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}var a=this.type;try{this.storedValue=a.createNewInstance(this._childNodes),this.preboot(),this._isRunningAction=!0,a.finalizeNewInstance(this,this.storedValue)}catch(e){throw this.state=Lr.DEAD,e}finally{this._isRunningAction=!1}this._observableInstanceState=2,Gn(this,"snapshot").trackAndCompute(),this.isRoot&&this._addSnapshotReaction(),this._childNodes=Zr,this.state=Lr.CREATED,this.fireHook(tr.afterCreate),this.finalizeCreation()},Object.defineProperty(t.prototype,"root",{get:function(){var e=this.parent;return e?e.root:this},enumerable:!0,configurable:!0}),t.prototype.clearParent=function(){if(this.parent){this.fireHook(tr.beforeDetach);var e=this.state;this.state=Lr.DETACHING;var t=this.root,n=t.environment,r=t.identifierCache.splitCache(this);try{this.parent.removeChild(this.subpath),this.baseSetParent(null,""),this.environment=n,this.identifierCache=r}finally{this.state=e}}},t.prototype.setParent=function(e,t){var n=e!==this.parent,r=t!==this.subpath;if(n||r){if(yo()){if(!t)throw eo("assertion failed: subpath expected");if(!e)throw eo("assertion failed: new parent expected");if(this.parent&&n)throw eo("A node cannot exists twice in the state tree. Failed to add "+this+" to path '"+e.path+"/"+t+"'.");if(!this.parent&&e.root===this)throw eo("A state tree is not allowed to contain itself. Cannot assign "+this+" to path '"+e.path+"/"+t+"'");if(!this.parent&&this.environment&&this.environment!==e.root.environment)throw eo("A state tree cannot be made part of another state tree as long as their environments are different.")}n?(this.environment=void 0,e.root.identifierCache.mergeCache(this),this.baseSetParent(e,t),this.fireHook(tr.afterAttach)):r&&this.baseSetParent(this.parent,t)}},t.prototype.fireHook=function(e){var t=this;this.fireInternalHook(e);var n=this.storedValue&&"object"==typeof this.storedValue&&this.storedValue[e];"function"==typeof n&&(yt?yt((function(){n.apply(t.storedValue)})):n.apply(this.storedValue))},Object.defineProperty(t.prototype,"snapshot",{get:function(){return uo(this.getSnapshot())},enumerable:!0,configurable:!0}),t.prototype.getSnapshot=function(){return this.isAlive?2===this._observableInstanceState?this._getActualSnapshot():this._getCachedInitialSnapshot():this._snapshotUponDeath},t.prototype._getActualSnapshot=function(){return this.type.getSnapshot(this)},t.prototype._getCachedInitialSnapshot=function(){if(!this._cachedInitialSnapshotCreated){var e=this.type,t=this._childNodes,n=this._initialSnapshot;this._cachedInitialSnapshot=e.processInitialSnapshot(t,n),this._cachedInitialSnapshotCreated=!0}return this._cachedInitialSnapshot},t.prototype.isRunningAction=function(){return!!this._isRunningAction||!this.isRoot&&this.parent.isRunningAction()},t.prototype.assertAlive=function(e){var t;if(!this.isAlive){var n=this._getAssertAliveError(e);t=n,console.warn(new Error("[mobx-state-tree] "+t))}},t.prototype._getAssertAliveError=function(e){var t=this.getEscapedPath(!1)||this.pathUponDeath||"",n=e.subpath&&Eo(e.subpath)||"",r=e.actionContext||Sr;r&&"action"!==r.type&&r.parentActionEvent&&(r=r.parentActionEvent);var o,i="";r&&null!=r.name&&(i=(r&&r.context&&(Gr(o=r.context,1),qr(o).path)||t)+"."+r.name+"()");return"You are trying to read or write to an object that is no longer part of a state tree. (Object type: '"+this.type.name+"', Path upon death: '"+t+"', Subpath: '"+n+"', Action: '"+i+"'). Either detach nodes first, or don't use objects after removing / replacing them in the tree."},t.prototype.getChildNode=function(e){this.assertAlive({subpath:e}),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildNode(this,e):this._childNodes[e]}finally{this._autoUnbox=!0}},t.prototype.getChildren=function(){this.assertAlive(Zr),this._autoUnbox=!1;try{return 2===this._observableInstanceState?this.type.getChildren(this):Yr(this._childNodes)}finally{this._autoUnbox=!0}},t.prototype.getChildType=function(e){return this.type.getChildType(e)},Object.defineProperty(t.prototype,"isProtected",{get:function(){return this.root.isProtectionEnabled},enumerable:!0,configurable:!0}),t.prototype.assertWritable=function(e){if(this.assertAlive(e),!this.isRunningAction()&&this.isProtected)throw eo("Cannot modify '"+this+"', the object is protected and can only be modified by using an action.")},t.prototype.removeChild=function(e){this.type.removeChild(this,e)},t.prototype.unbox=function(e){return e?(this.assertAlive({subpath:e.subpath||e.subpathUponDeath}),this._autoUnbox?e.value:e):e},t.prototype.toString=function(){var e=(this.isAlive?this.path:this.pathUponDeath)||"<root>",t=this.identifier?"(id: "+this.identifier+")":"";return this.type.name+"@"+e+t+(this.isAlive?"":" [dead]")},t.prototype.finalizeCreation=function(){var e=this;this.baseFinalizeCreation((function(){var t,n;try{for(var r=ar(e.getChildren()),o=r.next();!o.done;o=r.next()){o.value.finalizeCreation()}}catch(e){t={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}e.fireInternalHook(tr.afterCreationFinalization)}))},t.prototype.detach=function(){if(!this.isAlive)throw eo("Error while detaching, node is not alive.");this.clearParent()},t.prototype.preboot=function(){var e=this;this._applyPatches=Pr(this.storedValue,"@APPLY_PATCHES",(function(t){t.forEach((function(t){var n=function(e){var t=e.split("/").map(Oo);if(!(""===e||"."===e||".."===e||vo(e,"/")||vo(e,"./")||vo(e,"../")))throw eo("a json path must be either rooted, empty or relative, but got '"+e+"'");""===t[0]&&t.shift();return t}(t.path);Jr(e,n.slice(0,-1)).applyPatchLocally(n[n.length-1],t)}))})),this._applySnapshot=Pr(this.storedValue,"@APPLY_SNAPSHOT",(function(t){if(t!==e.snapshot)return e.type.applySnapshot(e,t)})),co(this.storedValue,"$treenode",this),co(this.storedValue,"toJSON",Kr)},t.prototype.die=function(){this.isAlive&&this.state!==Lr.DETACHING&&(this.aboutToDie(),this.finalizeDeath())},t.prototype.aboutToDie=function(){0!==this._observableInstanceState&&(this.getChildren().forEach((function(e){e.aboutToDie()})),this.baseAboutToDie(),this._internalEventsEmit("dispose"),this._internalEventsClear("dispose"))},t.prototype.finalizeDeath=function(){this.getChildren().forEach((function(e){e.finalizeDeath()})),this.root.identifierCache.notifyDied(this);var e=this.snapshot;this._snapshotUponDeath=e,this._internalEventsClearAll(),this.baseFinalizeDeath()},t.prototype.onSnapshot=function(e){return this._addSnapshotReaction(),this._internalEventsRegister("snapshot",e)},t.prototype.emitSnapshot=function(e){this._internalEventsEmit("snapshot",e)},t.prototype.onPatch=function(e){return this._internalEventsRegister("patch",e)},t.prototype.emitPatch=function(e,t){if(this._internalEventsHasSubscribers("patch")){var n=sr(function(e){if(!("oldValue"in e))throw eo("Patches without `oldValue` field cannot be inversed");return[wo(e),_o(e)]}(function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0;r<t.length;r++){var o=t[r];for(var i in o)e[i]=o[i]}return e}({},e,{path:t.path.substr(this.path.length)+"/"+e.path})),2),r=n[0],o=n[1];this._internalEventsEmit("patch",r,o)}this.parent&&this.parent.emitPatch(e,t)},t.prototype.hasDisposer=function(e){return this._internalEventsHas("dispose",e)},t.prototype.addDisposer=function(e){if(this.hasDisposer(e))throw eo("cannot add a disposer when it is already registered for execution");this._internalEventsRegister("dispose",e,!0)},t.prototype.removeDisposer=function(e){if(!this._internalEventsHas("dispose",e))throw eo("cannot remove a disposer which was never registered for execution");this._internalEventsUnregister("dispose",e)},t.prototype.removeMiddleware=function(e){if(this.middlewares){var t=this.middlewares.indexOf(e);t>=0&&this.middlewares.splice(t,1)}},t.prototype.addMiddleWare=function(e,t){var n=this;void 0===t&&(t=!0);var r={handler:e,includeHooks:t};return this.middlewares?this.middlewares.push(r):this.middlewares=[r],function(){n.removeMiddleware(r)}},t.prototype.applyPatchLocally=function(e,t){this.assertWritable({subpath:e}),this.createObservableInstanceIfNeeded(),this.type.applyPatchLocally(this,e,t)},t.prototype._addSnapshotReaction=function(){var e=this;if(!this._hasSnapshotReaction){var t=function(e,t,n){void 0===n&&(n=ne),"production"!==process.env.NODE_ENV&&(ie("function"==typeof e,"First argument to reaction should be a function"),ie("object"==typeof n,"Third argument of reactions should be an object"));var r,o,i,a=n.name||"Reaction@"+re(),s=Gt(a,n.onError?(r=n.onError,o=t,function(){try{return o.apply(this,arguments)}catch(e){r.call(this,e)}}):t),u=!n.scheduler&&!n.delay,c=Kt(n),p=!0,l=!1,f=n.compareStructural?Ee.structural:n.equals||Ee.default,h=new Tt(a,(function(){p||u?d():l||(l=!0,c(d))}),n.onError,n.requiresObservable);function d(){if(l=!1,!h.isDisposed){var t=!1;h.track((function(){var n=e(h);t=p||!f(i,n),i=n})),p&&n.fireImmediately&&s(i,h),p||!0!==t||s(i,h),p&&(p=!1)}}return h.schedule(),h.getDisposer()}((function(){return e.snapshot}),(function(t){return e.emitSnapshot(t)}),gr);this.addDisposer(t),this._hasSnapshotReaction=!0}},t.prototype._internalEventsHasSubscribers=function(e){return!!this._internalEvents&&this._internalEvents.hasSubscribers(e)},t.prototype._internalEventsRegister=function(e,t,n){return void 0===n&&(n=!1),this._internalEvents||(this._internalEvents=new fo),this._internalEvents.register(e,t,n)},t.prototype._internalEventsHas=function(e,t){return!!this._internalEvents&&this._internalEvents.has(e,t)},t.prototype._internalEventsUnregister=function(e,t){this._internalEvents&&this._internalEvents.unregister(e,t)},t.prototype._internalEventsEmit=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];this._internalEvents&&(t=this._internalEvents).emit.apply(t,ur([e],n))},t.prototype._internalEventsClear=function(e){this._internalEvents&&this._internalEvents.clear(e)},t.prototype._internalEventsClearAll=function(){this._internalEvents&&this._internalEvents.clearAll()},ir([Gt],t.prototype,"createObservableInstance",null),ir([Je],t.prototype,"snapshot",null),ir([Gt],t.prototype,"detach",null),ir([Gt],t.prototype,"die",null),t}(vr);!function(e){e[e.String=1]="String",e[e.Number=2]="Number",e[e.Boolean=4]="Boolean",e[e.Date=8]="Date",e[e.Literal=16]="Literal",e[e.Array=32]="Array",e[e.Map=64]="Map",e[e.Object=128]="Object",e[e.Frozen=256]="Frozen",e[e.Optional=512]="Optional",e[e.Reference=1024]="Reference",e[e.Identifier=2048]="Identifier",e[e.Late=4096]="Late",e[e.Refinement=8192]="Refinement",e[e.Union=16384]="Union",e[e.Null=32768]="Null",e[e.Undefined=65536]="Undefined",e[e.Integer=131072]="Integer",e[e.Custom=262144]="Custom",e[e.SnapshotProcessor=524288]="SnapshotProcessor"}(dr||(dr={}));var wr=function(){function e(e){this.isType=!0,this.name=e}return e.prototype.create=function(e,t){return zr(this,e),this.instantiate(null,"",t,e).value},e.prototype.getSnapshot=function(e,t){throw eo("unimplemented method")},e.prototype.isAssignableFrom=function(e){return e===this},e.prototype.validate=function(e,t){if(Wr(e)){var n=cr(e);return this.isAssignableFrom(n)?kr():Rr(t,e)}return this.isValidSnapshot(e,t)},e.prototype.is=function(e){return 0===this.validate(e,[{path:"",type:this}]).length},Object.defineProperty(e.prototype,"Type",{get:function(){throw eo("Factory.Type should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.Type`")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"TypeWithoutSTN",{get:function(){throw eo("Factory.TypeWithoutSTN should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.TypeWithoutSTN`")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"SnapshotType",{get:function(){throw eo("Factory.SnapshotType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.SnapshotType`")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CreationType",{get:function(){throw eo("Factory.CreationType should not be actually called. It is just a Type signature that can be used at compile time with Typescript, by using `typeof type.CreationType`")},enumerable:!0,configurable:!0}),ir([Gt],e.prototype,"create",null),e}(),_r=function(e){function t(t){return e.call(this,t)||this}return rr(t,e),t.prototype.create=function(t,n){return void 0===t&&(t=this.getDefaultSnapshot()),e.prototype.create.call(this,t,n)},t.prototype.getValue=function(e){return e.createObservableInstanceIfNeeded(),e.storedValue},t.prototype.tryToReconcileNode=function(e,t){return!e.isDetaching&&(e.snapshot===t||(!(!Fr(t)||qr(t)!==e)||!(e.type!==this||!ao(t)||Fr(t)||e.identifierAttribute&&e.identifier!==mi(t[e.identifierAttribute]))&&(e.applySnapshot(t),!0)))},t.prototype.reconcile=function(e,t,n,r){if(this.tryToReconcileNode(e,t))return e.setParent(n,r),e;if(e.die(),Fr(t)&&this.isAssignableFrom(cr(t))){var o=qr(t);return o.setParent(n,r),o}return this.instantiate(n,r,void 0,t)},t.prototype.getSubTypes=function(){return null},ir([Gt],t.prototype,"create",null),t}(wr),Er=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return rr(t,e),t.prototype.createNewInstance=function(e){return e},t.prototype.getValue=function(e){return e.storedValue},t.prototype.getSnapshot=function(e){return e.storedValue},t.prototype.reconcile=function(e,t,n,r){if(!e.isDetaching&&e.type===this&&e.storedValue===t)return e;var o=this.instantiate(n,r,void 0,t);return e.die(),o},t.prototype.getSubTypes=function(){return null},t}(wr);function Or(e){return"object"==typeof e&&e&&!0===e.isType}function Nr(e,t){bo(e,Or,"mobx-state-tree type",t)}!function(){function e(e,t){this.hooks=e,this.call=t,this.flowsPending=0,this.running=!0,e&&e.onStart(t)}e.prototype.finish=function(e){this.running&&(this.running=!1,this.hooks&&this.hooks.onFinish(this.call,e))},e.prototype.incFlowsPending=function(){this.flowsPending++},e.prototype.decFlowsPending=function(){this.flowsPending--},Object.defineProperty(e.prototype,"hasFlowsPending",{get:function(){return this.flowsPending>0},enumerable:!0,configurable:!0})}();var Sr,Ar=1;function Vr(){return Ar++}function xr(e,t){var n=qr(e.context);"action"===e.type&&n.assertAlive({actionContext:e});var r=n._isRunningAction;n._isRunningAction=!0;var o=Sr;Sr=e;try{return function(e,t,n){var r=new Cr(e,n);if(r.isEmpty)return Gt(n).apply(null,t.args);var o=null;return function e(t){var i=r.getNextMiddleware(),a=i&&i.handler;if(!a)return Gt(n).apply(null,t.args);if(!i.includeHooks&&tr[t.name])return e(t);var s=!1,u=!1;if(a(t,(function(t,n){s=!0,o=e(t),n&&(o=n(o))}),(function(e){u=!0,o=e})),yo()){if(!s&&!u){var c=qr(t.tree);throw eo("Neither the next() nor the abort() callback within the middleware "+a.name+' for the action: "'+t.name+'" on the node: '+c.type.name+" was invoked.")}if(s&&u){c=qr(t.tree);throw eo("The next() and abort() callback within the middleware "+a.name+' for the action: "'+t.name+'" on the node: '+c.type.name+" were invoked.")}}return o}(t)}(n,e,t)}finally{Sr=o,n._isRunningAction=r}}function Dr(e){if(e)return"action"===e.type?e:e.parentActionEvent}function Pr(e,t,n){var r=function(){var r=Vr(),o=Sr,i=Dr(o);return xr({type:"action",name:t,id:r,args:ho(arguments),context:e,tree:hr(e),rootId:o?o.rootId:r,parentId:o?o.id:0,allParentIds:o?ur(o.allParentIds,[o.id]):[],parentEvent:o,parentActionEvent:i},n)};return r._isMSTAction=!0,r}var Cr=function(){function e(e,t){this.arrayIndex=0,this.inArrayIndex=0,this.middlewares=[],t.$mst_middleware&&this.middlewares.push(t.$mst_middleware);for(var n=e;n;)n.middlewares&&this.middlewares.push(n.middlewares),n=n.parent}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return this.middlewares.length<=0},enumerable:!0,configurable:!0}),e.prototype.getNextMiddleware=function(){var e=this.middlewares[this.arrayIndex];if(e){var t=e[this.inArrayIndex++];return t||(this.arrayIndex++,this.inArrayIndex=0,this.getNextMiddleware())}},e}();function jr(e){return"function"==typeof e?"<function"+(e.name?" "+e.name:"")+">":Fr(e)?"<"+e+">":"`"+function(e){try{return JSON.stringify(e)}catch(e){return"<Unserializable: "+e+">"}}(e)+"`"}function Tr(e){var t=e.value,n=e.context[e.context.length-1].type,r=e.context.map((function(e){return e.path})).filter((function(e){return e.length>0})).join("/"),o=r.length>0?'at path "/'+r+'" ':"",i=Fr(t)?"value of type "+qr(t).type.name+":":so(t)?"value":"snapshot",a=n&&Fr(t)&&n.is(qr(t).snapshot);return""+o+i+" "+jr(t)+" is not assignable "+(n?"to type: `"+n.name+"`":"")+(e.message?" ("+e.message+")":"")+(n?function(e){return Or(e)&&(e.flags&(dr.String|dr.Number|dr.Integer|dr.Boolean|dr.Date))>0}(n)||so(t)?".":", expected an instance of `"+n.name+"` or a snapshot like `"+n.describe()+"` instead."+(a?" (Note that a snapshot of the provided value is compatible with the targeted type)":""):".")}function Ir(e,t,n){return e.concat([{path:t,type:n}])}function kr(){return Xr}function Rr(e,t,n){return[{context:e,value:t,message:n}]}function $r(e){return e.reduce((function(e,t){return e.concat(t)}),[])}function zr(e,t){(yo()||"undefined"!=typeof process&&process.env&&"true"===process.env.ENABLE_TYPE_CHECK)&&function(e,t){var n=e.validate(t,[{path:"",type:e}]);if(n.length>0)throw eo(function(e,t,n){if(0===n.length)return;return"Error while converting "+(r=jr(t),(r.length<280?r:r.substring(0,272)+"......"+r.substring(r.length-8))+" to `")+e.name+"`:\n\n    "+n.map(Tr).join("\n    ");var r}(e,t,n))}(e,t)}var Lr,Mr=0,Ur=function(){function e(){this.cacheId=Mr++,this.cache=Be.map(),this.lastCacheModificationPerId=Be.map()}return e.prototype.updateLastCacheModificationPerId=function(e){var t=this.lastCacheModificationPerId.get(e);this.lastCacheModificationPerId.set(e,void 0===t?1:t+1)},e.prototype.getLastCacheModificationPerId=function(e){var t=this.lastCacheModificationPerId.get(e)||0;return this.cacheId+"-"+t},e.prototype.addNodeToCache=function(e,t){if(void 0===t&&(t=!0),e.identifierAttribute){var n=e.identifier;this.cache.has(n)||this.cache.set(n,Be.array([],Qr));var r=this.cache.get(n);if(-1!==r.indexOf(e))throw eo("Already registered");r.push(e),t&&this.updateLastCacheModificationPerId(n)}},e.prototype.mergeCache=function(e){var t=this;cn(e.identifierCache.cache).forEach((function(e){return e.forEach((function(e){t.addNodeToCache(e)}))}))},e.prototype.notifyDied=function(e){if(e.identifierAttribute){var t=e.identifier,n=this.cache.get(t);n&&(n.remove(e),n.length||this.cache.delete(t),this.updateLastCacheModificationPerId(e.identifier))}},e.prototype.splitCache=function(t){var n,r=this,o=new e,i=t.path;return(n=this.cache,Fn(n)?un(n).map((function(e){return[e,n[e]]})):In(n)?un(n).map((function(e){return[e,n.get(e)]})):$n(n)?Array.from(n.entries()):Pn(n)?n.map((function(e,t){return[t,e]})):oe("production"!==process.env.NODE_ENV&&"'entries()' can only be used on observable objects, arrays and maps")).forEach((function(e){for(var t=sr(e,2),n=t[0],a=t[1],s=!1,u=a.length-1;u>=0;u--)0===a[u].path.indexOf(i)&&(o.addNodeToCache(a[u],!1),a.splice(u,1),s=!0);s&&r.updateLastCacheModificationPerId(n)})),o},e.prototype.has=function(e,t){var n=this.cache.get(t);return!!n&&n.some((function(t){return e.isAssignableFrom(t.type)}))},e.prototype.resolve=function(e,t){var n=this.cache.get(t);if(!n)return null;var r=n.filter((function(t){return e.isAssignableFrom(t.type)}));switch(r.length){case 0:return null;case 1:return r[0];default:throw eo("Cannot resolve a reference to type '"+e.name+"' with id: '"+t+"' unambigously, there are multiple candidates: "+r.map((function(e){return e.path})).join(", "))}},e}();function Hr(e,t,n,r,o){var i=Wr(o);if(i){if(i.parent)throw eo("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+(t?t.path:"")+"/"+n+"', but it lives already at '"+i.path+"'");return t&&i.setParent(t,n),i}return new mr(e,t,n,r,o)}function Br(e,t,n,r,o){return new yr(e,t,n,r,o)}function Fr(e){return!(!e||!e.$treenode)}function Gr(e,t){bo(e,Fr,"mobx-state-tree node",t)}function qr(e){if(!Fr(e))throw eo("Value "+e+" is no MST Node");return e.$treenode}function Wr(e){return e&&e.$treenode||null}function Kr(){return qr(this).snapshot}function Jr(e,t,n){void 0===n&&(n=!0);for(var r=e,o=0;o<t.length;o++){var i=t[o];if(".."===i){if(r=r.parent)continue}else{if("."===i)continue;if(r){if(r instanceof yr)try{var a=r.value;Fr(a)&&(r=qr(a))}catch(e){if(!n)return;throw e}if(r instanceof mr)if(r.getChildType(i)&&(r=r.getChildNode(i)))continue}}if(n)throw eo("Could not resolve '"+i+"' in path '"+(No(t.slice(0,o))||"/")+"' while resolving '"+No(t)+"'");return}return r}function Yr(e){if(!e)return Xr;var t=Object.keys(e);if(!t.length)return Xr;var n=new Array(t.length);return t.forEach((function(t,r){n[r]=e[t]})),n}!function(e){e[e.INITIALIZING=0]="INITIALIZING",e[e.CREATED=1]="CREATED",e[e.FINALIZED=2]="FINALIZED",e[e.DETACHING=3]="DETACHING",e[e.DEAD=4]="DEAD"}(Lr||(Lr={}));var Xr=Object.freeze([]),Zr=Object.freeze({}),Qr="string"==typeof ge?{deep:!1}:{deep:!1,proxy:!1};function eo(e){return void 0===e&&(e="Illegal state"),new Error("[mobx-state-tree] "+e)}function to(e){return e}Object.freeze(Qr);var no=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function ro(e){return Array.isArray(e)||Pn(e)}function oo(e){return e?ro(e)?e:[e]:Xr}function io(e){if(null===e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}function ao(e){return!(null===e||"object"!=typeof e||e instanceof Date||e instanceof RegExp)}function so(e,t){return void 0===t&&(t=!0),null==e||!!("string"==typeof e||"number"==typeof e||"boolean"==typeof e||t&&e instanceof Date)}function uo(e){return yo()?so(e)||Pn(e)?e:Object.freeze(e):e}function co(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function po(e,t,n){Object.defineProperty(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}var lo=function(){function e(){this.handlers=[]}return Object.defineProperty(e.prototype,"hasSubscribers",{get:function(){return this.handlers.length>0},enumerable:!0,configurable:!0}),e.prototype.register=function(e,t){var n=this;return void 0===t&&(t=!1),t?this.handlers.unshift(e):this.handlers.push(e),function(){n.unregister(e)}},e.prototype.has=function(e){return this.handlers.indexOf(e)>=0},e.prototype.unregister=function(e){var t=this.handlers.indexOf(e);t>=0&&this.handlers.splice(t,1)},e.prototype.clear=function(){this.handlers.length=0},e.prototype.emit=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.handlers.slice();n.forEach((function(t){return t.apply(void 0,ur(e))}))},e}(),fo=function(){function e(){}return e.prototype.hasSubscribers=function(e){var t=this.eventHandlers&&this.eventHandlers[e];return!!t&&t.hasSubscribers},e.prototype.register=function(e,t,n){void 0===n&&(n=!1),this.eventHandlers||(this.eventHandlers={});var r=this.eventHandlers[e];return r||(r=this.eventHandlers[e]=new lo),r.register(t,n)},e.prototype.has=function(e,t){var n=this.eventHandlers&&this.eventHandlers[e];return!!n&&n.has(t)},e.prototype.unregister=function(e,t){var n=this.eventHandlers&&this.eventHandlers[e];n&&n.unregister(t)},e.prototype.clear=function(e){this.eventHandlers&&delete this.eventHandlers[e]},e.prototype.clearAll=function(){this.eventHandlers=void 0},e.prototype.emit=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.eventHandlers&&this.eventHandlers[e];o&&(t=o).emit.apply(t,ur(n))},e}();function ho(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return t}function vo(e,t){return 0===e.indexOf(t)}function yo(){return"production"!==process.env.NODE_ENV}function bo(e,t,n,r){if(yo()&&!t(e))throw eo("expected "+n+" as argument "+oo(r).join(" or ")+", got "+e+" instead")}function go(e,t){bo(e,(function(e){return"function"==typeof e}),"function",t)}function mo(e,t,n){void 0===n&&(n=!0),bo(e,(function(e){return"string"==typeof e}),"string",t),n||bo(e,(function(e){return""!==e}),"not empty string",t)}function wo(e){switch(e.op){case"add":return{op:"add",path:e.path,value:e.value};case"remove":return{op:"remove",path:e.path};case"replace":return{op:"replace",path:e.path,value:e.value}}}function _o(e){switch(e.op){case"add":return{op:"remove",path:e.path};case"remove":return{op:"add",path:e.path,value:e.oldValue};case"replace":return{op:"replace",path:e.path,value:e.oldValue}}}function Eo(e){return!0==("number"==typeof e)?""+e:-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function Oo(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function No(e){if(0===e.length)return"";var t=function(e){return e.map(Eo).join("/")};return"."===e[0]||".."===e[0]?t(e):"/"+t(e)}var So=function(e){function t(t,n,r){var o=e.call(this,r||t.name)||this;return o._subtype=t,o._processors=n,o}return rr(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|dr.SnapshotProcessor},enumerable:!0,configurable:!0}),t.prototype.describe=function(){return"snapshotProcessor("+this._subtype.describe()+")"},t.prototype.preProcessSnapshot=function(e){return this._processors.preProcessor?this._processors.preProcessor.call(null,e):e},t.prototype.postProcessSnapshot=function(e){return this._processors.postProcessor?this._processors.postProcessor.call(null,e):e},t.prototype._fixNode=function(e){var t=this;!function(e,t){for(var n,r,o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];try{for(var a=ar(o),s=a.next();!s.done;s=a.next()){var u=s.value;e[u]=t[u].bind(t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}(e.type,this,"isAssignableFrom","create");var n=e.getSnapshot;e.getSnapshot=function(){return t.postProcessSnapshot(n.call(e))}},t.prototype.instantiate=function(e,t,n,r){var o=Fr(r)?r:this.preProcessSnapshot(r),i=this._subtype.instantiate(e,t,n,o);return this._fixNode(i),i},t.prototype.reconcile=function(e,t,n,r){var o=this._subtype.reconcile(e,Fr(t)?t:this.preProcessSnapshot(t),n,r);return o!==e&&this._fixNode(o),o},t.prototype.getSnapshot=function(e,t){void 0===t&&(t=!0);var n=this._subtype.getSnapshot(e);return t?this.postProcessSnapshot(n):n},t.prototype.isValidSnapshot=function(e,t){var n=this.preProcessSnapshot(e);return this._subtype.validate(n,t)},t.prototype.getSubTypes=function(){return this._subtype},t.prototype.is=function(e){var t=Or(e)?this._subtype:Fr(e)?fr(e,!1):this.preProcessSnapshot(e);return 0===this._subtype.validate(t,[{path:"",type:this._subtype}]).length},t}(wr);var Ao,Vo="Map.put can only be used to store complex values that have an identifier type attribute";!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.YES=1]="YES",e[e.NO=2]="NO"}(Ao||(Ao={}));var xo=function(e){function t(t){return e.call(this,t,Be.ref.enhancer)||this}return rr(t,e),t.prototype.get=function(t){return e.prototype.get.call(this,""+t)},t.prototype.has=function(t){return e.prototype.has.call(this,""+t)},t.prototype.delete=function(t){return e.prototype.delete.call(this,""+t)},t.prototype.set=function(t,n){return e.prototype.set.call(this,""+t,n)},t.prototype.put=function(e){if(!e)throw eo("Map.put cannot be used to set empty values");if(Fr(e)){var t=qr(e);if(yo()&&!t.identifierAttribute)throw eo(Vo);if(null===t.identifier)throw eo(Vo);return this.set(t.identifier,e),e}if(ao(e)){var n=qr(this),r=n.type;if(r.identifierMode!==Ao.YES)throw eo(Vo);var o=e[r.mapIdentifierAttribute];if(!wi(o)){var i=this.put(r.getChildType().create(e,n.environment));return this.put(fr(i))}var a=mi(o);return this.set(a,e),this.get(a)}throw eo("Map.put can only be used to store complex values")},t}(Tn),Do=function(e){function t(t,n,r){void 0===r&&(r=[]);var o=e.call(this,t)||this;return o._subType=n,o.identifierMode=Ao.UNKNOWN,o.mapIdentifierAttribute=void 0,o.flags=dr.Map,o.hookInitializers=[],o._determineIdentifierMode(),o.hookInitializers=r,o}return rr(t,e),t.prototype.hooks=function(e){var n=this.hookInitializers.length>0?this.hookInitializers.concat(e):[e];return new t(this.name,this._subType,n)},t.prototype.instantiate=function(e,t,n,r){return this._determineIdentifierMode(),Hr(this,e,t,n,r)},t.prototype._determineIdentifierMode=function(){if(this.identifierMode===Ao.UNKNOWN){var e=[];if(function e(t,n){var r,o,i=t.getSubTypes();if("cannotDetermine"===i)return!1;if(i){var a=oo(i);try{for(var s=ar(a),u=s.next();!u.done;u=s.next()){if(!e(u.value,n))return!1}}catch(e){r={error:e}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}}return t instanceof $o&&n.push(t),!0}(this._subType,e)){var t=void 0;e.forEach((function(e){if(e.identifierAttribute){if(t&&t!==e.identifierAttribute)throw eo("The objects in a map should all have the same identifier attribute, expected '"+t+"', but child of type '"+e.name+"' declared attribute '"+e.identifierAttribute+"' as identifier");t=e.identifierAttribute}})),t?(this.identifierMode=Ao.YES,this.mapIdentifierAttribute=t):this.identifierMode=Ao.NO}}},t.prototype.initializeChildNodes=function(e,t){void 0===t&&(t={});var n=e.type._subType,r={};return Object.keys(t).forEach((function(o){r[o]=n.instantiate(e,o,void 0,t[o])})),r},t.prototype.createNewInstance=function(e){return new xo(e)},t.prototype.finalizeNewInstance=function(e,t){tn(t,e.unbox),e.type.hookInitializers.forEach((function(e){var n=e(t);Object.keys(n).forEach((function(e){var r=n[e],o=Pr(t,e,r);(yo()?po:co)(t,e,o)}))})),nn(t,this.willChange),ln(t,this.didChange)},t.prototype.describe=function(){return"Map<string, "+this._subType.describe()+">"},t.prototype.getChildren=function(e){return cn(e.storedValue)},t.prototype.getChildNode=function(e,t){var n=e.storedValue.get(""+t);if(!n)throw eo("Not a child "+t);return n},t.prototype.willChange=function(e){var t=qr(e.object),n=e.name;t.assertWritable({subpath:n});var r=t.type,o=r._subType;switch(e.type){case"update":var i=e.newValue;if(i===e.object.get(n))return null;zr(o,i),e.newValue=o.reconcile(t.getChildNode(n),e.newValue,t,n),r.processIdentifier(n,e.newValue);break;case"add":zr(o,e.newValue),e.newValue=o.instantiate(t,n,void 0,e.newValue),r.processIdentifier(n,e.newValue)}return e},t.prototype.processIdentifier=function(e,t){if(this.identifierMode===Ao.YES&&t instanceof mr){var n=t.identifier;if(n!==e)throw eo("A map of objects containing an identifier should always store the object under their own identifier. Trying to store key '"+n+"', but expected: '"+e+"'")}},t.prototype.getSnapshot=function(e){var t={};return e.getChildren().forEach((function(e){t[e.subpath]=e.snapshot})),t},t.prototype.processInitialSnapshot=function(e){var t={};return Object.keys(e).forEach((function(n){t[n]=e[n].getSnapshot()})),t},t.prototype.didChange=function(e){var t=qr(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:Eo(e.name),value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"add":return void t.emitPatch({op:"add",path:Eo(e.name),value:e.newValue.snapshot,oldValue:void 0},t);case"delete":var n=e.oldValue.snapshot;return e.oldValue.die(),void t.emitPatch({op:"remove",path:Eo(e.name),oldValue:n},t)}},t.prototype.applyPatchLocally=function(e,t,n){var r=e.storedValue;switch(n.op){case"add":case"replace":r.set(t,n.value);break;case"remove":r.delete(t)}},t.prototype.applySnapshot=function(e,t){zr(this,t);var n=e.storedValue,r={};if(Array.from(n.keys()).forEach((function(e){r[e]=!1})),t)for(var o in t)n.set(o,t[o]),r[""+o]=!0;Object.keys(r).forEach((function(e){!1===r[e]&&n.delete(e)}))},t.prototype.getChildType=function(){return this._subType},t.prototype.isValidSnapshot=function(e,t){var n=this;return io(e)?$r(Object.keys(e).map((function(r){return n._subType.validate(e[r],Ir(t,r,n._subType))}))):Rr(t,e,"Value is not a plain object")},t.prototype.getDefaultSnapshot=function(){return Zr},t.prototype.removeChild=function(e,t){e.storedValue.delete(t)},ir([Gt],t.prototype,"applySnapshot",null),t}(_r);var Po=function(e){function t(t,n,r){void 0===r&&(r=[]);var o=e.call(this,t)||this;return o._subType=n,o.flags=dr.Array,o.hookInitializers=[],o.hookInitializers=r,o}return rr(t,e),t.prototype.hooks=function(e){var n=this.hookInitializers.length>0?this.hookInitializers.concat(e):[e];return new t(this.name,this._subType,n)},t.prototype.instantiate=function(e,t,n,r){return Hr(this,e,t,n,r)},t.prototype.initializeChildNodes=function(e,t){void 0===t&&(t=[]);var n=e.type._subType,r={};return t.forEach((function(t,o){var i=""+o;r[i]=n.instantiate(e,i,void 0,t)})),r},t.prototype.createNewInstance=function(e){return Be.array(Yr(e),Qr)},t.prototype.finalizeNewInstance=function(e,t){qn(t).dehancer=e.unbox,e.type.hookInitializers.forEach((function(e){var n=e(t);Object.keys(n).forEach((function(e){var r=n[e],o=Pr(t,e,r);(yo()?po:co)(t,e,o)}))})),nn(t,this.willChange),ln(t,this.didChange)},t.prototype.describe=function(){return this._subType.describe()+"[]"},t.prototype.getChildren=function(e){return e.storedValue.slice()},t.prototype.getChildNode=function(e,t){var n=Number(t);if(n<e.storedValue.length)return e.storedValue[n];throw eo("Not a child: "+t)},t.prototype.willChange=function(e){var t=qr(e.object);t.assertWritable({subpath:""+e.index});var n=t.type._subType,r=t.getChildren();switch(e.type){case"update":if(e.newValue===e.object[e.index])return null;var o=Co(t,n,[r[e.index]],[e.newValue],[e.index]);if(!o)return null;e.newValue=o[0];break;case"splice":var i=e.index,a=e.removedCount,s=e.added,u=Co(t,n,r.slice(i,i+a),s,s.map((function(e,t){return i+t})));if(!u)return null;e.added=u;for(var c=i+a;c<r.length;c++)r[c].setParent(t,""+(c+s.length-a))}return e},t.prototype.getSnapshot=function(e){return e.getChildren().map((function(e){return e.snapshot}))},t.prototype.processInitialSnapshot=function(e){var t=[];return Object.keys(e).forEach((function(n){t.push(e[n].getSnapshot())})),t},t.prototype.didChange=function(e){var t=qr(e.object);switch(e.type){case"update":return void t.emitPatch({op:"replace",path:""+e.index,value:e.newValue.snapshot,oldValue:e.oldValue?e.oldValue.snapshot:void 0},t);case"splice":for(var n=e.removedCount-1;n>=0;n--)t.emitPatch({op:"remove",path:""+(e.index+n),oldValue:e.removed[n].snapshot},t);for(n=0;n<e.addedCount;n++)t.emitPatch({op:"add",path:""+(e.index+n),value:t.getChildNode(""+(e.index+n)).snapshot,oldValue:void 0},t);return}},t.prototype.applyPatchLocally=function(e,t,n){var r=e.storedValue,o="-"===t?r.length:Number(t);switch(n.op){case"replace":r[o]=n.value;break;case"add":r.splice(o,0,n.value);break;case"remove":r.splice(o,1)}},t.prototype.applySnapshot=function(e,t){zr(this,t),e.storedValue.replace(t)},t.prototype.getChildType=function(){return this._subType},t.prototype.isValidSnapshot=function(e,t){var n=this;return ro(e)?$r(e.map((function(e,r){return n._subType.validate(e,Ir(t,""+r,n._subType))}))):Rr(t,e,"Value is not an array")},t.prototype.getDefaultSnapshot=function(){return Xr},t.prototype.removeChild=function(e,t){e.storedValue.splice(Number(t),1)},ir([Gt],t.prototype,"applySnapshot",null),t}(_r);function Co(e,t,n,r,o){for(var i,a=!0,s=0;;s++){var u=s<=r.length-1,c=n[s],p=u?r[s]:void 0,l=""+o[s];if(((i=p)instanceof yr||i instanceof mr)&&(p=p.storedValue),!c&&!u)break;if(u)if(c)if(To(c,p))n[s]=jo(t,e,l,p,c);else{for(var f=void 0,h=s;h<n.length;h++)if(To(n[h],p)){f=n.splice(h,1)[0];break}a=!1;d=jo(t,e,l,p,f);n.splice(s,0,d)}else{if(Fr(p)&&qr(p).parent===e)throw eo("Cannot add an object to a state tree if it is already part of the same or another state tree. Tried to assign an object to '"+e.path+"/"+l+"', but it lives already at '"+qr(p).path+"'");a=!1;var d=jo(t,e,l,p);n.splice(s,0,d)}else a=!1,n.splice(s,1),c instanceof mr&&c.createObservableInstanceIfNeeded(),c.die(),s--}return a?null:n}function jo(e,t,n,r,o){zr(e,r);var i=function(){if(Fr(r)){var i=qr(r);if(i.assertAlive(Zr),null!==i.parent&&i.parent===t)return i.setParent(t,n),i}return o?e.reconcile(o,r,t,n):e.instantiate(t,n,void 0,r)}();return o&&o!==i&&(o instanceof mr&&o.createObservableInstanceIfNeeded(),o.die()),i}function To(e,t){if(!e.isAlive)return!1;if(Fr(t)){var n=qr(t);return n.isAlive&&n===e}return e.snapshot===t||e instanceof mr&&null!==e.identifier&&e.identifierAttribute&&io(t)&&e.identifier===mi(t[e.identifierAttribute])&&e.type.is(t)}function Io(){return qr(this).toString()}var ko={name:"AnonymousModel",properties:{},initializers:Xr};function Ro(e){return Object.keys(e).reduce((function(e,t){var n,r,o;if(t in tr)throw eo("Hook '"+t+"' was defined as property. Hooks should be defined as part of the actions");var i=Object.getOwnPropertyDescriptor(e,t);if("get"in i)throw eo("Getters are not supported as properties. Please use views instead");var a=i.value;if(null==a)throw eo("The default value of an attribute cannot be null or undefined as the type cannot be inferred. Did you mean `types.maybe(someType)`?");if(so(a))return Object.assign({},e,((n={})[t]=ei(function(e){switch(typeof e){case"string":return Mo;case"number":return Uo;case"boolean":return Bo;case"object":if(e instanceof Date)return Wo}throw eo("Cannot determine primitive type from value "+e)}(a),a),n));if(a instanceof Do)return Object.assign({},e,((r={})[t]=ei(a,{}),r));if(a instanceof Po)return Object.assign({},e,((o={})[t]=ei(a,[]),o));if(Or(a))return e;throw yo()&&"function"==typeof a?eo("Invalid type definition for property '"+t+"', it looks like you passed a function. Did you forget to invoke it, or did you intend to declare a view / action?"):yo()&&"object"==typeof a?eo("Invalid type definition for property '"+t+"', it looks like you passed an object. Try passing another model type or a types.frozen."):eo("Invalid type definition for property '"+t+"', cannot infer a type from a value like '"+a+"' ("+typeof a+")")}),e)}var $o=function(e){function t(t){var n=e.call(this,t.name||ko.name)||this;return n.flags=dr.Object,n.named=function(e){return n.cloneAndEnhance({name:e})},n.props=function(e){return n.cloneAndEnhance({properties:e})},n.preProcessSnapshot=function(e){var t=n.preProcessor;return t?n.cloneAndEnhance({preProcessor:function(n){return t(e(n))}}):n.cloneAndEnhance({preProcessor:e})},n.postProcessSnapshot=function(e){var t=n.postProcessor;return t?n.cloneAndEnhance({postProcessor:function(n){return e(t(n))}}):n.cloneAndEnhance({postProcessor:e})},Object.assign(n,ko,t),n.properties=Ro(n.properties),uo(n.properties),n.propertyNames=Object.keys(n.properties),n.identifierAttribute=n._getIdentifierAttribute(),n}return rr(t,e),t.prototype._getIdentifierAttribute=function(){var e=void 0;return this.forAllProps((function(t,n){if(n.flags&dr.Identifier){if(e)throw eo("Cannot define property '"+t+"' as object identifier, property '"+e+"' is already defined as identifier property");e=t}})),e},t.prototype.cloneAndEnhance=function(e){return new t({name:e.name||this.name,properties:Object.assign({},this.properties,e.properties),initializers:this.initializers.concat(e.initializers||[]),preProcessor:e.preProcessor||this.preProcessor,postProcessor:e.postProcessor||this.postProcessor})},t.prototype.actions=function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){return t.instantiateActions(n,e(n)),n}]})},t.prototype.instantiateActions=function(e,t){if(!io(t))throw eo("actions initializer should return a plain object containing actions");Object.keys(t).forEach((function(n){if("preProcessSnapshot"===n)throw eo("Cannot define action 'preProcessSnapshot', it should be defined using 'type.preProcessSnapshot(fn)' instead");if("postProcessSnapshot"===n)throw eo("Cannot define action 'postProcessSnapshot', it should be defined using 'type.postProcessSnapshot(fn)' instead");var r=t[n],o=e[n];if(n in tr&&o){var i=r;r=function(){o.apply(null,arguments),i.apply(null,arguments)}}var a=r.$mst_middleware,s=r.bind(t);s.$mst_middleware=a;var u=Pr(e,n,s);t[n]=u,(yo()?po:co)(e,n,u)}))},t.prototype.volatile=function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){return t.instantiateVolatileState(n,e(n)),n}]})},t.prototype.instantiateVolatileState=function(e,t){if(!io(t))throw eo("volatile state initializer should return a plain object containing state");pn(e,t)},t.prototype.extend=function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){var r=e(n),o=r.actions,i=r.views,a=r.state,s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}(r,["actions","views","state"]);for(var u in s)throw eo("The `extend` function should return an object with a subset of the fields 'actions', 'views' and 'state'. Found invalid key '"+u+"'");return a&&t.instantiateVolatileState(n,a),i&&t.instantiateViews(n,i),o&&t.instantiateActions(n,o),n}]})},t.prototype.views=function(e){var t=this;return this.cloneAndEnhance({initializers:[function(n){return t.instantiateViews(n,e(n)),n}]})},t.prototype.instantiateViews=function(e,t){if(!io(t))throw eo("views initializer should return a plain object containing views");Object.keys(t).forEach((function(n){var r,o,i=Object.getOwnPropertyDescriptor(t,n);if("get"in i)if(r=e,"string"!=typeof(o=n)?oe("production"!==process.env.NODE_ENV&&"isComputed expected a property name as second argument"):rn(r,o)){var a=qn(e,n);a.derivation=i.get,a.scope=e,i.set&&(a.setter=Gt(a.name+"-setter",i.set))}else Je(e,n,i,!0);else{if("function"!=typeof i.value)throw eo("A view member should either be a function or getter based property");(yo()?po:co)(e,n,i.value)}}))},t.prototype.instantiate=function(e,t,n,r){return Hr(this,e,t,n,Fr(r)?r:this.applySnapshotPreProcessor(r))},t.prototype.initializeChildNodes=function(e,t){void 0===t&&(t={});var n=e.type,r={};return n.forAllProps((function(n,o){r[n]=o.instantiate(e,n,void 0,t[n])})),r},t.prototype.createNewInstance=function(e){return Be.object(e,Zr,Qr)},t.prototype.finalizeNewInstance=function(e,t){co(t,"toString",Io),this.forAllProps((function(n){tn(t,n,e.unbox)})),this.initializers.reduce((function(e,t){return t(e)}),t),nn(t,this.willChange),ln(t,this.didChange)},t.prototype.willChange=function(e){var t=e,n=qr(t.object),r=t.name;n.assertWritable({subpath:r});var o=n.type.properties[r];return o&&(zr(o,t.newValue),t.newValue=o.reconcile(n.getChildNode(r),t.newValue,n,r)),t},t.prototype.didChange=function(e){var t=e,n=qr(t.object);if(n.type.properties[t.name]){var r=t.oldValue?t.oldValue.snapshot:void 0;n.emitPatch({op:"replace",path:Eo(t.name),value:t.newValue.snapshot,oldValue:r},n)}},t.prototype.getChildren=function(e){var t=this,n=[];return this.forAllProps((function(r){n.push(t.getChildNode(e,r))})),n},t.prototype.getChildNode=function(e,t){if(!(t in this.properties))throw eo("Not a value property: "+t);var n=qn(e.storedValue,t).value;if(!n)throw eo("Node not available for property "+t);return n},t.prototype.getSnapshot=function(e,t){var n=this;void 0===t&&(t=!0);var r={};return this.forAllProps((function(t,o){Gn(e.storedValue,t).reportObserved(),r[t]=n.getChildNode(e,t).snapshot})),t?this.applySnapshotPostProcessor(r):r},t.prototype.processInitialSnapshot=function(e){var t={};return Object.keys(e).forEach((function(n){t[n]=e[n].getSnapshot()})),this.applySnapshotPostProcessor(t)},t.prototype.applyPatchLocally=function(e,t,n){if("replace"!==n.op&&"add"!==n.op)throw eo("object does not support operation "+n.op);e.storedValue[t]=n.value},t.prototype.applySnapshot=function(e,t){var n=this.applySnapshotPreProcessor(t);zr(this,n),this.forAllProps((function(t){e.storedValue[t]=n[t]}))},t.prototype.applySnapshotPreProcessor=function(e){var t=this.preProcessor;return t?t.call(null,e):e},t.prototype.applySnapshotPostProcessor=function(e){var t=this.postProcessor;return t?t.call(null,e):e},t.prototype.getChildType=function(e){return mo(e,1),this.properties[e]},t.prototype.isValidSnapshot=function(e,t){var n=this,r=this.applySnapshotPreProcessor(e);return io(r)?$r(this.propertyNames.map((function(e){return n.properties[e].validate(r[e],Ir(t,e,n.properties[e]))}))):Rr(t,r,"Value is not a plain object")},t.prototype.forAllProps=function(e){var t=this;this.propertyNames.forEach((function(n){return e(n,t.properties[n])}))},t.prototype.describe=function(){var e=this;return"{ "+this.propertyNames.map((function(t){return t+": "+e.properties[t].describe()})).join("; ")+" }"},t.prototype.getDefaultSnapshot=function(){return Zr},t.prototype.removeChild=function(e,t){e.storedValue[t]=void 0},ir([Gt],t.prototype,"applySnapshot",null),t}(_r);function zo(e){return Or(e)&&(e.flags&dr.Object)>0}var Lo=function(e){function t(t,n,r,o){void 0===o&&(o=to);var i=e.call(this,t)||this;return i.flags=n,i.checker=r,i.initializer=o,i.flags=n,i}return rr(t,e),t.prototype.describe=function(){return this.name},t.prototype.instantiate=function(e,t,n,r){return Br(this,e,t,n,r)},t.prototype.createNewInstance=function(e){return this.initializer(e)},t.prototype.isValidSnapshot=function(e,t){return so(e)&&this.checker(e)?kr():Rr(t,e,"Value is not a "+("Date"===this.name?"Date or a unix milliseconds timestamp":this.name))},t}(Er),Mo=new Lo("string",dr.String,(function(e){return"string"==typeof e})),Uo=new Lo("number",dr.Number,(function(e){return"number"==typeof e})),Ho=new Lo("integer",dr.Integer,(function(e){return no(e)})),Bo=new Lo("boolean",dr.Boolean,(function(e){return"boolean"==typeof e})),Fo=new Lo("null",dr.Null,(function(e){return null===e})),Go=new Lo("undefined",dr.Undefined,(function(e){return void 0===e})),qo=new Lo("Date",dr.Date,(function(e){return"number"==typeof e||e instanceof Date}),(function(e){return e instanceof Date?e:new Date(e)}));qo.getSnapshot=function(e){return e.storedValue.getTime()};var Wo=qo;var Ko=function(e){function t(t){var n=e.call(this,JSON.stringify(t))||this;return n.flags=dr.Literal,n.value=t,n}return rr(t,e),t.prototype.instantiate=function(e,t,n,r){return Br(this,e,t,n,r)},t.prototype.describe=function(){return JSON.stringify(this.value)},t.prototype.isValidSnapshot=function(e,t){return so(e)&&e===this.value?kr():Rr(t,e,"Value is not a literal "+JSON.stringify(this.value))},t}(Er);function Jo(e){return bo(e,so,"primitive",1),new Ko(e)}var Yo=function(e){function t(t,n,r,o){var i=e.call(this,t)||this;return i._subtype=n,i._predicate=r,i._message=o,i}return rr(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|dr.Refinement},enumerable:!0,configurable:!0}),t.prototype.describe=function(){return this.name},t.prototype.instantiate=function(e,t,n,r){return this._subtype.instantiate(e,t,n,r)},t.prototype.isAssignableFrom=function(e){return this._subtype.isAssignableFrom(e)},t.prototype.isValidSnapshot=function(e,t){var n=this._subtype.validate(e,t);if(n.length>0)return n;var r=Fr(e)?qr(e).snapshot:e;return this._predicate(r)?kr():Rr(t,e,this._message(e))},t.prototype.reconcile=function(e,t,n,r){return this._subtype.reconcile(e,t,n,r)},t.prototype.getSubTypes=function(){return this._subtype},t}(wr);var Xo=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o._types=n,o._eager=!0,r=or({eager:!0,dispatcher:void 0},r),o._dispatcher=r.dispatcher,r.eager||(o._eager=!1),o}return rr(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){var e=dr.Union;return this._types.forEach((function(t){e|=t.flags})),e},enumerable:!0,configurable:!0}),t.prototype.isAssignableFrom=function(e){return this._types.some((function(t){return t.isAssignableFrom(e)}))},t.prototype.describe=function(){return"("+this._types.map((function(e){return e.describe()})).join(" | ")+")"},t.prototype.instantiate=function(e,t,n,r){var o=this.determineType(r,void 0);if(!o)throw eo("No matching type for union "+this.describe());return o.instantiate(e,t,n,r)},t.prototype.reconcile=function(e,t,n,r){var o=this.determineType(t,e.type);if(!o)throw eo("No matching type for union "+this.describe());return o.reconcile(e,t,n,r)},t.prototype.determineType=function(e,t){return this._dispatcher?this._dispatcher(e):t?t.is(e)?t:this._types.filter((function(e){return e!==t})).find((function(t){return t.is(e)})):this._types.find((function(t){return t.is(e)}))},t.prototype.isValidSnapshot=function(e,t){if(this._dispatcher)return this._dispatcher(e).validate(e,t);for(var n=[],r=0,o=0;o<this._types.length;o++){var i=this._types[o].validate(e,t);if(0===i.length){if(this._eager)return kr();r++}else n.push(i)}return 1===r?kr():Rr(t,e,"No type is applicable for the union").concat($r(n))},t.prototype.getSubTypes=function(){return this._types},t}(wr);function Zo(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Or(e)?void 0:e,o=Or(e)?ur([e],t):t,i="("+o.map((function(e){return e.name})).join(" | ")+")";return yo()&&(r&&bo(r,(function(e){return io(e)}),"object { eager?: boolean, dispatcher?: Function }",1),o.forEach((function(e,t){Nr(e,r?t+2:t+1)}))),new Xo(i,o,r)}var Qo=function(e){function t(t,n,r){var o=e.call(this,t.name)||this;return o._subtype=t,o._defaultValue=n,o.optionalValues=r,o}return rr(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return this._subtype.flags|dr.Optional},enumerable:!0,configurable:!0}),t.prototype.describe=function(){return this._subtype.describe()+"?"},t.prototype.instantiate=function(e,t,n,r){if(this.optionalValues.indexOf(r)>=0){var o=this.getDefaultInstanceOrSnapshot();return this._subtype.instantiate(e,t,n,o)}return this._subtype.instantiate(e,t,n,r)},t.prototype.reconcile=function(e,t,n,r){return this._subtype.reconcile(e,this.optionalValues.indexOf(t)<0&&this._subtype.is(t)?t:this.getDefaultInstanceOrSnapshot(),n,r)},t.prototype.getDefaultInstanceOrSnapshot=function(){var e="function"==typeof this._defaultValue?this._defaultValue():this._defaultValue;return"function"==typeof this._defaultValue&&zr(this,e),e},t.prototype.isValidSnapshot=function(e,t){return this.optionalValues.indexOf(e)>=0?kr():this._subtype.validate(e,t)},t.prototype.isAssignableFrom=function(e){return this._subtype.isAssignableFrom(e)},t.prototype.getSubTypes=function(){return this._subtype},t}(wr);function ei(e,t,n){return function(e,t){if("function"!=typeof t&&Fr(t))throw eo("default value cannot be an instance, pass a snapshot or a function that creates an instance/snapshot instead");Nr(e,1),yo()&&"function"!=typeof t&&zr(e,t)}(e,t),new Qo(e,t,n||ti)}var ti=[void 0],ni=ei(Go,void 0),ri=ei(Fo,null);function oi(e){return Nr(e,1),Zo(e,ni)}var ii=function(e){function t(t,n){var r=e.call(this,t)||this;return r._definition=n,r}return rr(t,e),Object.defineProperty(t.prototype,"flags",{get:function(){return(this._subType?this._subType.flags:0)|dr.Late},enumerable:!0,configurable:!0}),t.prototype.getSubType=function(e){if(!this._subType){var t=void 0;try{t=this._definition()}catch(e){if(!(e instanceof ReferenceError))throw e;t=void 0}if(e&&void 0===t)throw eo("Late type seems to be used too early, the definition (still) returns undefined");if(t){if(yo()&&!Or(t))throw eo("Failed to determine subtype, make sure types.late returns a type definition.");this._subType=t}}return this._subType},t.prototype.instantiate=function(e,t,n,r){return this.getSubType(!0).instantiate(e,t,n,r)},t.prototype.reconcile=function(e,t,n,r){return this.getSubType(!0).reconcile(e,t,n,r)},t.prototype.describe=function(){var e=this.getSubType(!1);return e?e.name:"<uknown late type>"},t.prototype.isValidSnapshot=function(e,t){var n=this.getSubType(!1);return n?n.validate(e,t):kr()},t.prototype.isAssignableFrom=function(e){var t=this.getSubType(!1);return!!t&&t.isAssignableFrom(e)},t.prototype.getSubTypes=function(){var e=this.getSubType(!1);return e||"cannotDetermine"},t}(wr);var ai=function(e){function t(t){var n=e.call(this,t?"frozen("+t.name+")":"frozen")||this;return n.subType=t,n.flags=dr.Frozen,n}return rr(t,e),t.prototype.describe=function(){return"<any immutable value>"},t.prototype.instantiate=function(e,t,n,r){return Br(this,e,t,n,function e(t){return yo()?(uo(t),io(t)&&Object.keys(t).forEach((function(n){so(t[n])||Object.isFrozen(t[n])||e(t[n])})),t):t}(r))},t.prototype.isValidSnapshot=function(e,t){return function(e){return"function"!=typeof e}(e)?this.subType?this.subType.validate(e,t):kr():Rr(t,e,"Value is not serializable and cannot be frozen")},t}(Er),si=new ai;var ui=function(){function e(e,t){if(this.targetType=t,wi(e))this.identifier=e;else{if(!Fr(e))throw eo("Can only store references to tree nodes or identifiers, got: '"+e+"'");var n=qr(e);if(!n.identifierAttribute)throw eo("Can only store references with a defined identifier attribute.");var r=n.unnormalizedIdentifier;if(null==r)throw eo("Can only store references to tree nodes with a defined identifier.");this.identifier=r}}return e.prototype.updateResolvedReference=function(e){var t=mi(this.identifier),n=e.root,r=n.identifierCache.getLastCacheModificationPerId(t);if(!this.resolvedReference||this.resolvedReference.lastCacheModification!==r){var o=this.targetType,i=n.identifierCache.resolve(o,t);if(!i)throw new ci("[mobx-state-tree] Failed to resolve reference '"+this.identifier+"' to type '"+this.targetType.name+"' (from node: "+e.path+")");this.resolvedReference={node:i,lastCacheModification:r}}},Object.defineProperty(e.prototype,"resolvedValue",{get:function(){return this.updateResolvedReference(this.node),this.resolvedReference.node.value},enumerable:!0,configurable:!0}),e}(),ci=function(e){function t(n){var r=e.call(this,n)||this;return Object.setPrototypeOf(r,t.prototype),r}return rr(t,e),t}(Error),pi=function(e){function t(t,n){var r=e.call(this,"reference("+t.name+")")||this;return r.targetType=t,r.onInvalidated=n,r.flags=dr.Reference,r}return rr(t,e),t.prototype.describe=function(){return this.name},t.prototype.isAssignableFrom=function(e){return this.targetType.isAssignableFrom(e)},t.prototype.isValidSnapshot=function(e,t){return wi(e)?kr():Rr(t,e,"Value is not a valid identifier, which is a string or a number")},t.prototype.fireInvalidated=function(e,t,n,r){var o=t.parent;if(o&&o.isAlive){var i=o.storedValue;i&&this.onInvalidated({cause:e,parent:i,invalidTarget:r?r.storedValue:void 0,invalidId:n,replaceRef:function(e){lr(t.root.storedValue,{op:"replace",value:e,path:t.path})},removeRef:function(){zo(o.type)?this.replaceRef(void 0):lr(t.root.storedValue,{op:"remove",path:t.path})}})}},t.prototype.addTargetNodeWatcher=function(e,t){var n=this,r=this.getValue(e);if(r){var o=qr(r),i=function(r,i){var a=function(e){switch(e){case tr.beforeDestroy:return"destroy";case tr.beforeDetach:return"detach";default:return}}(i);a&&n.fireInvalidated(a,e,t,o)},a=o.registerHook(tr.beforeDetach,i),s=o.registerHook(tr.beforeDestroy,i);return function(){a(),s()}}},t.prototype.watchTargetNodeForInvalidations=function(e,t,n){var r=this;if(this.onInvalidated){var o;e.registerHook(tr.beforeDestroy,(function(){o&&o()}));var i=function(i){o&&o();var a=e.parent,s=a&&a.storedValue;if(a&&a.isAlive&&s){(n?!!n.get(t,s):e.root.identifierCache.has(r.targetType,mi(t)))?o=r.addTargetNodeWatcher(e,t):i||r.fireInvalidated("invalidSnapshotReference",e,t,null)}};e.state===Lr.FINALIZED?i(!0):(e.isRoot||e.root.registerHook(tr.afterCreationFinalization,(function(){e.parent&&e.parent.createObservableInstanceIfNeeded()})),e.registerHook(tr.afterAttach,(function(){i(!1)})))}},t}(Er),li=function(e){function t(t,n){return e.call(this,t,n)||this}return rr(t,e),t.prototype.getValue=function(e){if(e.isAlive)return e.storedValue.resolvedValue},t.prototype.getSnapshot=function(e){return e.storedValue.identifier},t.prototype.instantiate=function(e,t,n,r){var o,i=Fr(r)?(Gr(o=r,1),qr(o).identifier):r,a=new ui(r,this.targetType),s=Br(this,e,t,n,a);return a.node=s,this.watchTargetNodeForInvalidations(s,i,void 0),s},t.prototype.reconcile=function(e,t,n,r){if(!e.isDetaching&&e.type===this){var o=Fr(t),i=e.storedValue;if(!o&&i.identifier===t||o&&i.resolvedValue===t)return e.setParent(n,r),e}var a=this.instantiate(n,r,void 0,t);return e.die(),a},t}(pi),fi=function(e){function t(t,n,r){var o=e.call(this,t,r)||this;return o.options=n,o}return rr(t,e),t.prototype.getValue=function(e){if(e.isAlive)return this.options.get(e.storedValue,e.parent?e.parent.storedValue:null)},t.prototype.getSnapshot=function(e){return e.storedValue},t.prototype.instantiate=function(e,t,n,r){var o=Fr(r)?this.options.set(r,e?e.storedValue:null):r,i=Br(this,e,t,n,o);return this.watchTargetNodeForInvalidations(i,o,this.options),i},t.prototype.reconcile=function(e,t,n,r){var o=Fr(t)?this.options.set(t,e?e.storedValue:null):t;if(!e.isDetaching&&e.type===this&&e.storedValue===o)return e.setParent(n,r),e;var i=this.instantiate(n,r,void 0,o);return e.die(),i},t}(pi);function hi(e,t){if(Nr(e,1),yo()&&2===arguments.length&&"string"==typeof arguments[1])throw eo("References with base path are no longer supported. Please remove the base path.");var n=t||void 0,r=t?t.onInvalidated:void 0;if(n&&(n.get||n.set)){if(yo()&&(!n.get||!n.set))throw eo("reference options must either contain both a 'get' and a 'set' method or none of them");return new fi(e,{get:n.get,set:n.set},r)}return new li(e,r)}var di=function(e){function t(t,n){var r=e.call(this,t)||this;return r.validType=n,r.flags=dr.Identifier,r}return rr(t,e),t.prototype.instantiate=function(e,t,n,r){if(!(e&&e.type instanceof $o))throw eo("Identifier types can only be instantiated as direct child of a model type");return Br(this,e,t,n,r)},t.prototype.reconcile=function(e,t,n,r){if(e.storedValue!==t)throw eo("Tried to change identifier from '"+e.storedValue+"' to '"+t+"'. Changing identifiers is not allowed.");return e.setParent(n,r),e},t.prototype.isValidSnapshot=function(e,t){return typeof e!==this.validType?Rr(t,e,"Value is not a valid "+this.describe()+", expected a "+this.validType):kr()},t}(Er),vi=function(e){function t(){var t=e.call(this,"identifier","string")||this;return t.flags=dr.Identifier,t}return rr(t,e),t.prototype.describe=function(){return"identifier"},t}(di),yi=function(e){function t(){return e.call(this,"identifierNumber","number")||this}return rr(t,e),t.prototype.getSnapshot=function(e){return e.storedValue},t.prototype.describe=function(){return"identifierNumber"},t}(di),bi=new vi,gi=new yi;function mi(e){return""+e}function wi(e){return"string"==typeof e||"number"==typeof e}var _i=function(e){function t(t){var n=e.call(this,t.name)||this;return n.options=t,n.flags=dr.Custom,n}return rr(t,e),t.prototype.describe=function(){return this.name},t.prototype.isValidSnapshot=function(e,t){if(this.options.isTargetType(e))return kr();var n=this.options.getValidationMessage(e);return n?Rr(t,e,"Invalid value for type '"+this.name+"': "+n):kr()},t.prototype.getSnapshot=function(e){return this.options.toSnapshot(e.storedValue)},t.prototype.instantiate=function(e,t,n,r){return Br(this,e,t,n,this.options.isTargetType(r)?r:this.options.fromSnapshot(r,e&&e.root.environment))},t.prototype.reconcile=function(e,t,n,r){var o=!this.options.isTargetType(t);if(!e.isDetaching&&(e.type===this&&(o?t===e.snapshot:t===e.storedValue)))return e.setParent(n,r),e;var i=o?this.options.fromSnapshot(t,n.root.environment):t,a=this.instantiate(n,r,void 0,i);return e.die(),a},t}(Er),Ei={enumeration:function(e,t){var n="string"==typeof e?t:e;yo()&&n.forEach((function(e,t){mo(e,t+1)}));var r=Zo.apply(void 0,ur(n.map((function(e){return Jo(""+e)}))));return"string"==typeof e&&(r.name=e),r},model:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"==typeof e[0]?e.shift():"AnonymousModel",r=e.shift()||{};return new $o({name:n,properties:r})},compose:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"==typeof e[0],r=n?e[0]:"AnonymousModel";return n&&e.shift(),yo()&&e.forEach((function(e,t){bo(e,zo,"mobx-state-tree model type",n?t+2:t+1)})),e.reduce((function(e,t){return e.cloneAndEnhance({name:e.name+"_"+t.name,properties:t.properties,initializers:t.initializers,preProcessor:function(n){return t.applySnapshotPreProcessor(e.applySnapshotPreProcessor(n))},postProcessor:function(n){return t.applySnapshotPostProcessor(e.applySnapshotPostProcessor(n))}})})).named(r)},custom:function(e){return new _i(e)},reference:hi,safeReference:function(e,t){var n=hi(e,or(or({},t),{onInvalidated:function(e){e.removeRef()}}));return t&&!1===t.acceptsUndefined?n:oi(n)},union:Zo,optional:ei,literal:Jo,maybe:oi,maybeNull:function(e){return Nr(e,1),Zo(e,ri)},refinement:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="string"==typeof e[0]?e.shift():Or(e[0])?e[0].name:null,r=e[0],o=e[1],i=e[2]?e[2]:function(e){return"Value does not respect the refinement predicate"};return Nr(r,[1,2]),mo(n,1),go(o,[2,3]),go(i,[3,4]),new Yo(n,r,o,i)},string:Mo,boolean:Bo,number:Uo,integer:Ho,Date:Wo,map:function(e){return new Do("map<string, "+e.name+">",e)},array:function(e){return Nr(e,1),new Po(e.name+"[]",e)},frozen:function(e){return 0===arguments.length?si:Or(e)?new ai(e):ei(si,e)},identifier:bi,identifierNumber:gi,late:function(e,t){var n="string"==typeof e?e:"late("+e.toString()+")",r="string"==typeof e?t:e;if(yo()&&("function"!=typeof r||0!==r.length))throw eo("Invalid late type, expected a function with zero arguments that returns a type, got: "+r);return new ii(n,r)},undefined:Go,null:Fo,snapshotProcessor:function(e,t,n){if(Nr(e,1),yo()){if(t.postProcessor&&"function"!=typeof t.postProcessor)throw fail("postSnapshotProcessor must be a function");if(t.preProcessor&&"function"!=typeof t.preProcessor)throw fail("preSnapshotProcessor must be a function")}return new So(e,t,n)}};const Oi=Ei.model("Count",{value:0}).actions(e=>({set:t=>e.value=t})).create({value:0});function Ni(t){let n,r,o=t[0].value+"";return{c(){n=l("h1"),r=f(o)},m(e,t){c(e,n,t),u(n,r)},p(e,[t]){1&t&&o!==(o=e[0].value+"")&&y(r,o)},i:e,o:e,d(e){e&&p(n)}}}function Si(e,t,n){let r;return a(e,Oi,e=>n(0,r=e)),[r]}Oi.subscribe=e=>(e(Oi),pr(Oi,e));class Ai extends z{constructor(e){super(),$(this,e,Si,Ni,i,{})}}function Vi(t){let n,o,i,a,s,u,f,v,y;return{c(){n=l("button"),n.textContent="‚ûï",o=h(),i=l("button"),i.textContent="‚ûñ",a=h(),s=l("button"),s.textContent="Reset üîô",u=h(),f=l("button"),f.textContent="Wrong Type üôà"},m(e,r){c(e,n,r),c(e,o,r),c(e,i,r),c(e,a,r),c(e,s,r),c(e,u,r),c(e,f,r),v||(y=[d(n,"click",t[1]),d(i,"click",t[2]),d(s,"click",t[3]),d(f,"click",t[4])],v=!0)},p:e,i:e,o:e,d(e){e&&p(n),e&&p(o),e&&p(i),e&&p(a),e&&p(s),e&&p(u),e&&p(f),v=!1,r(y)}}}function xi(e,t,n){let r;a(e,Oi,e=>n(0,r=e));return[r,()=>s(Oi,r=r.value+1),()=>s(Oi,r=r.value-1),()=>s(Oi,r=0),()=>s(Oi,r="‚ÄºÔ∏è")]}class Di extends z{constructor(e){super(),$(this,e,xi,Vi,i,{})}}function Pi(t){let n,r,o,i,a;return r=new Di({}),i=new Ai({}),{c(){n=l("div"),T(r.$$.fragment),o=h(),T(i.$$.fragment),v(n,"class","svelte-on4gyz")},m(e,t){c(e,n,t),I(r,n,null),u(n,o),I(i,n,null),a=!0},p:e,i(e){a||(C(r.$$.fragment,e),C(i.$$.fragment,e),a=!0)},o(e){j(r.$$.fragment,e),j(i.$$.fragment,e),a=!1},d(e){e&&p(n),k(r),k(i)}}}class Ci extends z{constructor(e){super(),$(this,e,null,Pi,i,{})}}const ji=function(){const{subscribe:e,set:t,update:n}=M(0);return{subscribe:e,set:t,increment:()=>n(e=>e+1),decrement:()=>n(e=>e-1),reset:()=>t(0)}}();function Ti(t){let n,r;return{c(){n=l("h1"),r=f(t[0])},m(e,t){c(e,n,t),u(n,r)},p(e,[t]){1&t&&y(r,e[0])},i:e,o:e,d(e){e&&p(n)}}}function Ii(e,t,n){let r;return a(e,ji,e=>n(0,r=e)),[r]}class ki extends z{constructor(e){super(),$(this,e,Ii,Ti,i,{})}}function Ri(t){let n,o,i,a,s,u,f,v,y;return{c(){n=l("button"),n.textContent="‚ûï",o=h(),i=l("button"),i.textContent="‚ûñ",a=h(),s=l("button"),s.textContent="Reset üîô",u=h(),f=l("button"),f.textContent="Wrong Type üôà"},m(e,r){c(e,n,r),c(e,o,r),c(e,i,r),c(e,a,r),c(e,s,r),c(e,u,r),c(e,f,r),v||(y=[d(n,"click",ji.increment),d(i,"click",ji.decrement),d(s,"click",ji.reset),d(f,"click",t[0])],v=!0)},p:e,i:e,o:e,d(e){e&&p(n),e&&p(o),e&&p(i),e&&p(a),e&&p(s),e&&p(u),e&&p(f),v=!1,r(y)}}}function $i(e){return[()=>ji.set("‚ÄºÔ∏è")]}class zi extends z{constructor(e){super(),$(this,e,$i,Ri,i,{})}}function Li(t){let n,r,o,i,a;return r=new zi({}),i=new ki({}),{c(){n=l("div"),T(r.$$.fragment),o=h(),T(i.$$.fragment),v(n,"class","svelte-on4gyz")},m(e,t){c(e,n,t),I(r,n,null),u(n,o),I(i,n,null),a=!0},p:e,i(e){a||(C(r.$$.fragment,e),C(i.$$.fragment,e),a=!0)},o(e){j(r.$$.fragment,e),j(i.$$.fragment,e),a=!1},d(e){e&&p(n),k(r),k(i)}}}class Mi extends z{constructor(e){super(),$(this,e,null,Li,i,{})}}const Ui=Ei.model("Count",{value:0}).actions(e=>({set:t=>e.value=t,increment:()=>e.value+=1,decrement:()=>e.value-=1,reset:()=>e.value=0})).create({value:0});function Hi(t){let n,r,o=t[0].value+"";return{c(){n=l("h1"),r=f(o)},m(e,t){c(e,n,t),u(n,r)},p(e,[t]){1&t&&o!==(o=e[0].value+"")&&y(r,o)},i:e,o:e,d(e){e&&p(n)}}}function Bi(e,t,n){let r;return a(e,Ui,e=>n(0,r=e)),[r]}Ui.subscribe=e=>(e(Ui),pr(Ui,e));class Fi extends z{constructor(e){super(),$(this,e,Bi,Hi,i,{})}}function Gi(t){let n,o,i,a,s,u,f,v,y;return{c(){n=l("button"),n.textContent="‚ûï",o=h(),i=l("button"),i.textContent="‚ûñ",a=h(),s=l("button"),s.textContent="Reset üîô",u=h(),f=l("button"),f.textContent="Wrong Type üôà"},m(e,r){c(e,n,r),c(e,o,r),c(e,i,r),c(e,a,r),c(e,s,r),c(e,u,r),c(e,f,r),v||(y=[d(n,"click",Ui.increment),d(i,"click",Ui.decrement),d(s,"click",Ui.reset),d(f,"click",t[0])],v=!0)},p:e,i:e,o:e,d(e){e&&p(n),e&&p(o),e&&p(i),e&&p(a),e&&p(s),e&&p(u),e&&p(f),v=!1,r(y)}}}function qi(e){return[()=>Ui.set({value:"‚ÄºÔ∏è"})]}class Wi extends z{constructor(e){super(),$(this,e,qi,Gi,i,{})}}function Ki(t){let n,r,o,i,a;return r=new Wi({}),i=new Fi({}),{c(){n=l("div"),T(r.$$.fragment),o=h(),T(i.$$.fragment),v(n,"class","svelte-on4gyz")},m(e,t){c(e,n,t),I(r,n,null),u(n,o),I(i,n,null),a=!0},p:e,i(e){a||(C(r.$$.fragment,e),C(i.$$.fragment,e),a=!0)},o(e){j(r.$$.fragment,e),j(i.$$.fragment,e),a=!1},d(e){e&&p(n),k(r),k(i)}}}class Ji extends z{constructor(e){super(),$(this,e,null,Ki,i,{})}}function Yi(t){let n,r,o,i,a,s,f,d,y,b,g,m,w,_,E,O,N,S,A,V,x,D,P,R,$,z,L,M,U;return a=new J({}),f=new J({}),m=new Ci({}),_=new Ci({}),A=new Mi({}),x=new Mi({}),z=new Ji({}),M=new Ji({}),{c(){n=l("main"),r=l("div"),o=l("h1"),o.textContent="Store: Svelte",i=h(),T(a.$$.fragment),s=h(),T(f.$$.fragment),d=h(),y=l("div"),b=l("h1"),b.textContent="Store: Mobx Tree",g=h(),T(m.$$.fragment),w=h(),T(_.$$.fragment),E=h(),O=l("div"),N=l("h1"),N.textContent="Store: Svelte Custom",S=h(),T(A.$$.fragment),V=h(),T(x.$$.fragment),D=h(),P=l("div"),R=l("h1"),R.textContent="Store: Mobx Tree Custom",$=h(),T(z.$$.fragment),L=h(),T(M.$$.fragment),v(o,"class","svelte-ufx67q"),v(r,"class","svelte svelte-ufx67q"),v(b,"class","svelte-ufx67q"),v(y,"class","mobx svelte-ufx67q"),v(N,"class","svelte-ufx67q"),v(O,"class","svelte-custom svelte-ufx67q"),v(R,"class","svelte-ufx67q"),v(P,"class","mobx-custom svelte-ufx67q"),v(n,"class","grid-container svelte-ufx67q")},m(e,t){c(e,n,t),u(n,r),u(r,o),u(r,i),I(a,r,null),u(r,s),I(f,r,null),u(n,d),u(n,y),u(y,b),u(y,g),I(m,y,null),u(y,w),I(_,y,null),u(n,E),u(n,O),u(O,N),u(O,S),I(A,O,null),u(O,V),I(x,O,null),u(n,D),u(n,P),u(P,R),u(P,$),I(z,P,null),u(P,L),I(M,P,null),U=!0},p:e,i(e){U||(C(a.$$.fragment,e),C(f.$$.fragment,e),C(m.$$.fragment,e),C(_.$$.fragment,e),C(A.$$.fragment,e),C(x.$$.fragment,e),C(z.$$.fragment,e),C(M.$$.fragment,e),U=!0)},o(e){j(a.$$.fragment,e),j(f.$$.fragment,e),j(m.$$.fragment,e),j(_.$$.fragment,e),j(A.$$.fragment,e),j(x.$$.fragment,e),j(z.$$.fragment,e),j(M.$$.fragment,e),U=!1},d(e){e&&p(n),k(a),k(f),k(m),k(_),k(A),k(x),k(z),k(M)}}}return new class extends z{constructor(e){super(),$(this,e,null,Yi,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
